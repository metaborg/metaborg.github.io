
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spoofax language workbench">
      
      
        <meta name="author" content="Spoofax Team">
      
      
        <link rel="canonical" href="https://www.spoofax.dev/background/stratego/strategy-combinators/traversal/">
      
      
        <link rel="prev" href="../term/">
      
      
        <link rel="next" href="../type-unifying/">
      
      <link rel="icon" href="../../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.4">
    
    
      
        <title>Traversal Combinators - Spoofax</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.9c788c91.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/styles.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<!-- Determine title -->

<!-- prettier-ignore -->






<!-- Open graph meta tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Spoofax - Traversal Combinators" />
<meta property="og:description" content="Spoofax language workbench" />
<meta property="og:url" content="https://www.spoofax.dev/background/stratego/strategy-combinators/traversal/" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/373448219/bb3bb300-d8ee-11eb-9991-a5080ae2657c" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1080" />
<meta property="og:image:height" content="568" />


  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="spoofax" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#traversal-combinators" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Determine base classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../../../.."
      title="Spoofax"
      class="md-header__button md-logo"
      aria-label="Spoofax"
      data-md-component="logo"
    >
      
  <img src="../../../../assets/logo.svg" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <a 
            href="../../../.."
            title="Spoofax"
            class="md-ellipsis"
            aria-label="Spoofax"
          >
            Spoofax
          </a>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Traversal Combinators
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="spoofax"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/metaborg/spoofax" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    spoofax
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tutorials/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../howtos/" class="md-tabs__link">
        How-Tos
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../references/" class="md-tabs__link">
        References
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        Background
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../support/" class="md-tabs__link">
        Support
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../release/stable/" class="md-tabs__link">
        Releases
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Spoofax" class="md-nav__button md-logo" aria-label="Spoofax" data-md-component="logo">
      
  <img src="../../../../assets/logo.svg" alt="logo">

    </a>
    Spoofax
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/metaborg/spoofax" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    spoofax
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../..">Home</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../tutorials/">Tutorials</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../howtos/">How-Tos</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="How-Tos" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          How-Tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" tabindex="0" aria-expanded="false">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/installation/install-eclipse-bundle/" class="md-nav__link">
        Install the Eclipse with Spoofax Plugin Bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/installation/install-eclipse-plugin-manually/" class="md-nav__link">
        Install the Spoofax Eclipse Plugin Manually
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/installation/install-from-source/" class="md-nav__link">
        Install Spoofax from Source
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3" tabindex="0" aria-expanded="false">
          Static Semantics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/statix/debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/statix/migrating-from-nabl2/" class="md-nav__link">
        Migrate from NaBL2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/statix/migrating-to-concurrent-solver/" class="md-nav__link">
        Migrating to the Concurrent Solver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/statix/signature-generator/" class="md-nav__link">
        Signature Generator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_4" tabindex="0" aria-expanded="false">
          Transformation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Transformation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Transformation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/generate-signature/" class="md-nav__link">
        How to Generate a Stratego Signature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/run-stratego-programs/" class="md-nav__link">
        How to Run Stratego Programs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/generate-pretty-printer/" class="md-nav__link">
        How to Generate a Pretty-Printer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/debug-stratego/" class="md-nav__link">
        Debug Stratego Programs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/concrete-syntax/" class="md-nav__link">
        Concrete Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/exchange-terms/" class="md-nav__link">
        Exchange Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/inspect-terms/" class="md-nav__link">
        Inspect Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/stratego/stratego-1-to-2/" class="md-nav__link">
        Migrating from Stratego 1 to Stratego 2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_5" tabindex="0" aria-expanded="false">
          Editor Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editor Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Editor Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/editor-services/rename-refactoring/" class="md-nav__link">
        Add Rename Refactoring to an Existing Project
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_6" type="checkbox" id="__nav_3_6" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../howtos/development/">Development</a>
          
            <label for="__nav_3_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Development" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/development/requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/development/maven/" class="md-nav__link">
        Maven
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/development/building/" class="md-nav__link">
        Building
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/development/developing/" class="md-nav__link">
        Developing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/development/releasing/" class="md-nav__link">
        Releasing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../howtos/development/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/">References</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/config/">Configuration</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/config/language/" class="md-nav__link">
        Language Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/config/project/" class="md-nav__link">
        Project Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/syntax/">Syntax</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Syntax" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Syntax
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/symbols/" class="md-nav__link">
        Symbols
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/productions/" class="md-nav__link">
        Productions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/lexical-syntax/" class="md-nav__link">
        Lexical Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/context-free-syntax/" class="md-nav__link">
        Context-Free Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/kernel-syntax/" class="md-nav__link">
        Kernel Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/start-symbols/" class="md-nav__link">
        Start Symbols
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/disambiguation/" class="md-nav__link">
        Disambiguation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/layout-sensitivity/" class="md-nav__link">
        Layout Sensitivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/recovery/" class="md-nav__link">
        Recovery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/syntax/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/statix/">Static Semantics</a>
          
            <label for="__nav_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/concepts/" class="md-nav__link">
        Language Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/terms/" class="md-nav__link">
        Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/basic-constraints/" class="md-nav__link">
        Basic Constraints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/rules/" class="md-nav__link">
        Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/scope-graphs/" class="md-nav__link">
        Scope Graph Constraints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/queries/" class="md-nav__link">
        Queries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/tests/" class="md-nav__link">
        Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/statix/stratego-api/" class="md-nav__link">
        Stratego API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/flowspec/">Data Flow Analysis</a>
          
            <label for="__nav_4_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Data Flow Analysis" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Data Flow Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/flowspec/structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/flowspec/Stratego_API/" class="md-nav__link">
        Stratego API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/flowspec/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/flowspec/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/flowspec/references/" class="md-nav__link">
        References
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/stratego/">Transformation</a>
          
            <label for="__nav_4_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Transformation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Transformation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/lexical/" class="md-nav__link">
        Lexical
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/terms/" class="md-nav__link">
        Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/rewrite-rules/" class="md-nav__link">
        Rewrite Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/strategy-definitions/" class="md-nav__link">
        Strategy Definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/strategy-combinators/" class="md-nav__link">
        Strategy Combinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/dynamic-rules/" class="md-nav__link">
        Dynamic Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/stratego/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/testing/">Testing</a>
          
            <label for="__nav_4_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Testing" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/testing/test-suites/" class="md-nav__link">
        Test suites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/testing/test-expectations/" class="md-nav__link">
        Test Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/testing/running-tests/" class="md-nav__link">
        Running SPT Tests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_8" type="checkbox" id="__nav_4_8" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/editor-services/">Editor Services</a>
          
            <label for="__nav_4_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Editor Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_8">
          <span class="md-nav__icon md-icon"></span>
          Editor Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/esv/" class="md-nav__link">
        ESV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/analysis/" class="md-nav__link">
        Analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/file-extensions/" class="md-nav__link">
        Language File Extensions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/hover/" class="md-nav__link">
        Hover Tooltips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/menus/" class="md-nav__link">
        Action Menus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/on-save/" class="md-nav__link">
        On-Save Handlers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/outline/" class="md-nav__link">
        Outline View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/parsing/" class="md-nav__link">
        Parsing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/reference-resolution/" class="md-nav__link">
        Reference Resolution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/renaming/" class="md-nav__link">
        Rename Refactoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/stratego/" class="md-nav__link">
        Stratego
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/editor-services/syntax-highlighting/" class="md-nav__link">
        Syntax Highlighting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_9" type="checkbox" id="__nav_4_9" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../references/pipelines/">Pipelines</a>
          
            <label for="__nav_4_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Pipelines" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_9">
          <span class="md-nav__icon md-icon"></span>
          Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/pipelines/modules/" class="md-nav__link">
        Module system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/pipelines/types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/pipelines/generics/" class="md-nav__link">
        Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/pipelines/functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/pipelines/expressions/" class="md-nav__link">
        Expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../references/pipelines/limitations/" class="md-nav__link">
        Known bugs and limitations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">Background</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Background" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Background
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../bibliography/">Bibliography</a>
          
            <label for="__nav_5_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Bibliography" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Bibliography
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../bibliography/sdf3/" class="md-nav__link">
        An SDF3 Bibliography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../bibliography/statix/" class="md-nav__link">
        A Statix Bibliography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../bibliography/stratego/" class="md-nav__link">
        A Stratego Bibliography
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../statix/">Static Semantics</a>
          
            <label for="__nav_5_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../statix/rule-selection/" class="md-nav__link">
        The Semantics of Rule Selection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Transformations</a>
          
            <label for="__nav_5_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Transformations" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Transformations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_4_2" type="checkbox" id="__nav_5_4_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4_2" tabindex="0" aria-expanded="false">
          Strategic Rewriting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Strategic Rewriting" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_4_2">
          <span class="md-nav__icon md-icon"></span>
          Strategic Rewriting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../strategic-rewriting/term-rewriting/" class="md-nav__link">
        Term Rewriting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../strategic-rewriting/limitations-of-rewriting/" class="md-nav__link">
        Limitations of Rewriting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../strategic-rewriting/traversal-with-rules/" class="md-nav__link">
        Factoring out Traversal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../strategic-rewriting/strategic-rewriting/" class="md-nav__link">
        Strategic Rewriting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_4_3" type="checkbox" id="__nav_5_4_3" checked>
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4_3" tabindex="0" aria-expanded="true">
          Strategy Combinators
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Strategy Combinators" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_4_3">
          <span class="md-nav__icon md-icon"></span>
          Strategy Combinators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sequential/" class="md-nav__link">
        Sequential Combinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../term/" class="md-nav__link">
        Term Combinators
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Traversal Combinators
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Traversal Combinators
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#congruence-operators" class="md-nav__link">
    Congruence Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-traversals-with-congruences" class="md-nav__link">
    Defining Traversals with Congruences
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traversing-tuples-and-lists" class="md-nav__link">
    Traversing Tuples and Lists
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format-checking" class="md-nav__link">
    Format Checking
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generic-traversal" class="md-nav__link">
    Generic Traversal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-all-subterms" class="md-nav__link">
    Visiting All Subterms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-traversals-with-all" class="md-nav__link">
    Defining Traversals with All
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-one-subterm" class="md-nav__link">
    Visiting One Subterm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-traversals-with-one" class="md-nav__link">
    Defining Traversals with One
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-some-subterms" class="md-nav__link">
    Visiting Some Subterms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../type-unifying/" class="md-nav__link">
        Type Unifying Traversal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../origin-tracking/" class="md-nav__link">
        Origin Tracking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../documentation/">Documentation</a>
          
            <label for="__nav_5_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/pages/" class="md-nav__link">
        Adding Pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/links/" class="md-nav__link">
        Links
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/code-highlighting/" class="md-nav__link">
        Code Highlighting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/guis-and-menus/" class="md-nav__link">
        GUIs and Menus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/citations/" class="md-nav__link">
        Citations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../support/">Support</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Support" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../support/contributions/" class="md-nav__link">
        Contributions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7" tabindex="0" aria-expanded="false">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/stable/" class="md-nav__link">
        Stable Releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/develop/" class="md-nav__link">
        Development Releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3" tabindex="0" aria-expanded="false">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.18/" class="md-nav__link">
        Spoofax 2.5.18 (14-11-2022)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.17/" class="md-nav__link">
        Spoofax 2.5.17 (06-07-2022)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.16/" class="md-nav__link">
        Spoofax 2.5.16 (04-06-2021)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.15/" class="md-nav__link">
        Spoofax 2.5.15 (11-05-2021)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.14/" class="md-nav__link">
        Spoofax 2.5.14 (16-12-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.13/" class="md-nav__link">
        Spoofax 2.5.13 (20-11-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.12/" class="md-nav__link">
        Spoofax 2.5.12 (08-10-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.11/" class="md-nav__link">
        Spoofax 2.5.11 (17-07-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.10/" class="md-nav__link">
        Spoofax 2.5.10 (07-07-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.9/" class="md-nav__link">
        Spoofax 2.5.9 (08-05-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.8/" class="md-nav__link">
        Spoofax 2.5.8 (28-04-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.7/" class="md-nav__link">
        Spoofax 2.5.7 (26-06-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.6/" class="md-nav__link">
        Spoofax 2.5.6 (24-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.5/" class="md-nav__link">
        Spoofax 2.5.5 (23-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.4/" class="md-nav__link">
        Spoofax 2.5.4 (08-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.3/" class="md-nav__link">
        Spoofax 2.5.3 (02-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.2/" class="md-nav__link">
        Spoofax 2.5.2 (12-03-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.1/" class="md-nav__link">
        Spoofax 2.5.1 (02-10-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.5.0/" class="md-nav__link">
        Spoofax 2.5.0 (11-09-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.4.1/" class="md-nav__link">
        Spoofax 2.4.1 (29-01-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.4.0/" class="md-nav__link">
        Spoofax 2.4.0 (09-01-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.3.0/" class="md-nav__link">
        Spoofax 2.3.0 (29-09-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.2.1/" class="md-nav__link">
        Spoofax 2.2.1 (04-05-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.2.0/" class="md-nav__link">
        Spoofax 2.2.0 (18-04-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.1.0/" class="md-nav__link">
        Spoofax 2.1.0 (10-01-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.0.0/" class="md-nav__link">
        Spoofax 2.0.0 (08-07-2016)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/2.0.0-beta1/" class="md-nav__link">
        Spoofax 2.0.0-beta1 (07-04-2016)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.5.0/" class="md-nav__link">
        Spoofax 1.5.0 (18-12-2015)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.4.0/" class="md-nav__link">
        Spoofax 1.4.0 (06-03-2015)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.3.1/" class="md-nav__link">
        Spoofax 1.3.1 (09-12-2014)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.3.0/" class="md-nav__link">
        Spoofax 1.3.0 (12-11-2014)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.2.0/" class="md-nav__link">
        Spoofax 1.2.0 (13-08-2014)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.1.0/" class="md-nav__link">
        Spoofax 1.1.0 (25-03-2013)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.0.2/" class="md-nav__link">
        Spoofax 1.0.2 (15-02-2012)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/1.0.0/" class="md-nav__link">
        Spoofax 1.0.0 (28-12-2011)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/note/vnext/" class="md-nav__link">
        Spoofax vNext
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4" tabindex="0" aria-expanded="false">
          Migration Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Migration Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Migration Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/2.5.15/" class="md-nav__link">
        Spoofax 2.5.15 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/2.5.10/" class="md-nav__link">
        Spoofax 2.5.10 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/2.5.5/" class="md-nav__link">
        Spoofax 2.5.5 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/2.1.0/" class="md-nav__link">
        Spoofax 2.1.0 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/2.0.0/" class="md-nav__link">
        Spoofax 2.0.0 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/march2016_project_structure/" class="md-nav__link">
        Directory structure migration (March 2016)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../release/migrate/vnext/" class="md-nav__link">
        Spoofax vNext Migration Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#congruence-operators" class="md-nav__link">
    Congruence Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-traversals-with-congruences" class="md-nav__link">
    Defining Traversals with Congruences
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traversing-tuples-and-lists" class="md-nav__link">
    Traversing Tuples and Lists
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format-checking" class="md-nav__link">
    Format Checking
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generic-traversal" class="md-nav__link">
    Generic Traversal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-all-subterms" class="md-nav__link">
    Visiting All Subterms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-traversals-with-all" class="md-nav__link">
    Defining Traversals with All
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-one-subterm" class="md-nav__link">
    Visiting One Subterm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-traversals-with-one" class="md-nav__link">
    Defining Traversals with One
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-some-subterms" class="md-nav__link">
    Visiting Some Subterms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="traversal-combinators">Traversal Combinators<a class="headerlink" href="#traversal-combinators" title="Permanent link">&para;</a></h1>
<p>There are many ways to traverse a tree.
For example, a bottom-up traversal, visits the subterms of a node before it visits the node itself, while a top-down traversal visits nodes before it visits children.
One-pass traversals traverse the tree one time, while fixed-point traversals, such as innermost, repeatedly traverse a term until a normal form is reached.</p>
<p>Rather than provide built-in implementations for all traversals needed in transformations, Stratego defines traversals in terms of the primitive ingredients of traversal.
For example, a top-down, one-pass traversal strategy will first visit a node, and then descend to the children of a node in order to recursively traverse all subterms.
Similarly, the bottom-up, fixed-point traversal strategy innermost, will first descend to the children of a node in order to recursively traverse all subterms, then visit the node itself, and possibly recursively reapply the strategy.</p>
<p>Traversal in Stratego is based on the observation<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> that a full term traversal is a recursive closure of a one-step descent, that is, an operation that applies a strategy to one or more direct subterms of the subject term.
By separating this one-step descent operator from recursion, and making it a first-class operation, many different traversals can be defined.</p>
<p>Here we explore the ways in which Stratego supports the definition of traversal strategies.
We start with explicitly programmed traversals using recursive traversal rules. Next, congruences operators provide a more concise notation for such data-type specific traversal rules.
Finally, generic traversal operators support data type independent definitions of traversals, which can be reused for any data type.
Given these basic mechanisms, we conclude with an exploration of idioms for traversal and standard traversal strategies in the Stratego Library.</p>
<h2 id="congruence-operators">Congruence Operators<a class="headerlink" href="#congruence-operators" title="Permanent link">&para;</a></h2>
<p>Congruence operators provide a convenient abbreviation of <a href="../../strategic-rewriting/traversal-with-rules/">traversal with rewrite rules</a>.
A congruence operator applies a strategy to each direct subterm of a specific constructor.
For each n-ary constructor <code>c</code> declared in a signature, there is a corresponding congruence operator <code>c(s1 , ..., sn)</code>, which applies to terms of the form <code>c(t1 , ..., tn)</code> by applying the argument strategies to the corresponding argument terms.
A congruence fails if the application of one the argument strategies fails or if constructor of the operator and that of the term do not match.</p>
<p>For example, consider the following signature of expressions:</p>
<div class="highlight"><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="nv">expressions</span>
<span class="k">signature</span>
<span class="w">  </span><span class="k">sorts</span><span class="w"> </span><span class="nv">Exp</span>
<span class="w">  </span><span class="k">constructors</span>
<span class="w">    </span><span class="nv">Int</span><span class="w">   </span><span class=" -Punctuation">:</span><span class="w"> </span><span class="nv">String</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">Exp</span>
<span class="w">    </span><span class="nv">Var</span><span class="w">   </span><span class=" -Punctuation">:</span><span class="w"> </span><span class="nv">String</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">Exp</span>
<span class="w">    </span><span class="nv">Plus</span><span class="w">  </span><span class=" -Punctuation">:</span><span class="w"> </span><span class="nv">Exp</span><span class="w"> </span>*<span class="w"> </span><span class="nv">Exp</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">Exp</span>
<span class="w">    </span><span class="nv">Times</span><span class="w"> </span><span class=" -Punctuation">:</span><span class="w"> </span><span class="nv">Exp</span><span class="w"> </span>*<span class="w"> </span><span class="nv">Exp</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">Exp</span>
</code></pre></div>
<p>The following applications apply the congruence operators <code>Plus</code> and <code>Times</code> to a term:</p>
<div class="highlight"><pre><span></span><code><span class=" -Punctuation">&lt;</span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="o">!</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">id</span><span class=" -Punctuation">)&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;14&quot;</span><span class=" -Punctuation">),</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span>

<span class=" -Punctuation">&lt;</span><span class="nv">Times</span><span class=" -Punctuation">(</span><span class="nv">id</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="o">!</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;42&quot;</span><span class=" -Punctuation">))&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class="c c-Singleline">// fails</span>
</code></pre></div>
<p>The first application shows how a congruence transforms a specific subterm, that is the strategy applied can be different for each subterm.
The second application shows that a congruence only succeeds for terms constructed with the same constructor.</p>
<!-- The import at the start of the session is necessary to declare the constructors used; the definitions of congruences are derived from constructor declarations.
Forgetting this import would lead to a complaint about an undeclared operator:

<div class="highlight"><pre><span></span><code><span class="nv">stratego</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="o">!</span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;14&quot;</span><span class=" -Punctuation">),</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span>
<span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;14&quot;</span><span class=" -Punctuation">),</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span>
<span class="nv">stratego</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="o">!</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">id</span><span class=" -Punctuation">)</span>
<span class="nv">operator</span><span class="w"> </span><span class="nv">Plus</span>/<span class=" -Punctuation">(</span><span class="m">2</span><span class=" -Punctuation">,</span><span class="m">0</span><span class=" -Punctuation">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nv">defined</span>
<span class="nv">command</span><span class="w"> </span><span class="nv">failed</span>
</code></pre></div>
-->

<h2 id="defining-traversals-with-congruences">Defining Traversals with Congruences<a class="headerlink" href="#defining-traversals-with-congruences" title="Permanent link">&para;</a></h2>
<p>Since congruence operators define a one-step traversal for a specific constructor, they capture the pattern of <a href="../../strategic-rewriting/traversal-with-rules/">traversal rules</a>.
That is, a traversal rule such as</p>
<div class="highlight"><pre><span></span><code><span class="nv">proptr</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">:</span><span class="w"> </span><span class="nv">And</span><span class=" -Punctuation">(</span><span class="nv">x</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">y</span><span class=" -Punctuation">)</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">And</span><span class=" -Punctuation">(&lt;</span><span class="nv">s</span><span class=" -Punctuation">&gt;</span><span class="nv">x</span><span class=" -Punctuation">,</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="nv">s</span><span class=" -Punctuation">&gt;</span><span class="nv">y</span><span class=" -Punctuation">)</span>
</code></pre></div>
<p>can be written by the congruence <code>And(s,s)</code>.
Applying this to the <code>prop-dnf</code> program we can replace the traversal rules by congruences as follows:</p>
<div class="highlight"><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="nv">prop-dnf10</span>
<span class="k">imports</span><span class="w"> </span><span class="nv">prop-rules</span>
<span class="k">strategies</span>
<span class="w">  </span><span class="nv">proptr</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">Not</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">And</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Or</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Impl</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Eq</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span>
<span class="w">  </span><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">proptr</span><span class=" -Punctuation">(</span><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)));</span><span class="w"> </span><span class="nv">s</span>
<span class="k">strategies</span>
<span class="w">  </span><span class="nv">dnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">DN</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">(</span><span class="nv">DefI</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefE</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMA</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMO</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DAOL</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DAOR</span><span class=" -Punctuation">);</span><span class="w"> </span><span class="nv">dnf</span><span class=" -Punctuation">))</span>
<span class="w">  </span><span class="nv">cnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">DN</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">(</span><span class="nv">DefI</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefE</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMA</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMO</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DOAL</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DOAR</span><span class=" -Punctuation">);</span><span class="w"> </span><span class="nv">cnf</span><span class=" -Punctuation">))</span>
</code></pre></div>
<!-- Observe how the five traversal rules have been reduced to five congruences which fit on a single line. -->

<h2 id="traversing-tuples-and-lists">Traversing Tuples and Lists<a class="headerlink" href="#traversing-tuples-and-lists" title="Permanent link">&para;</a></h2>
<p>Congruences can also be applied to tuples, <code>(s1,s2,...,sn)</code>, and lists, <code>[s1,s2,...,sn]</code>.
A special list congruence is <code>[]</code> which ‘visits’ the empty list.
As an example, consider again the definition of <code>map(s)</code> using recursive traversal rules:</p>
<div class="highlight"><pre><span></span><code><span class="nv">map</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">:</span><span class="w"> </span><span class=" -Punctuation">[]</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class=" -Punctuation">[]</span>
<span class="nv">map</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">:</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="nv">x</span><span class="w"> </span><span class=" -Punctuation">|</span><span class="w"> </span><span class="nv">xs</span><span class=" -Punctuation">]</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class=" -Punctuation">[&lt;</span><span class="nv">s</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class=" -Punctuation">|</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="nv">map</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)&gt;</span><span class="w"> </span><span class="nv">xs</span><span class=" -Punctuation">]</span>
</code></pre></div>
<p>Using list congruences we can define this strategy as:</p>
<div class="highlight"><pre><span></span><code><span class="nv">map</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class=" -Punctuation">[]</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="nv">s</span><span class="w"> </span><span class=" -Punctuation">|</span><span class="w"> </span><span class="nv">map</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)]</span>
</code></pre></div>
<p>The <code>[]</code> congruence matches an empty list.
The <code>[s | map(s)]</code> congruence matches a non-empty list, and applies <code>s</code> to the head of the list and <code>map(s)</code> to the tail.
Thus, <code>map(s)</code> applies <code>s</code> to each element of a list:</p>
<div class="highlight"><pre><span></span><code><span class=" -Punctuation">&lt;</span><span class="nv">map</span><span class=" -Punctuation">(</span><span class="nv">inc</span><span class=" -Punctuation">)&gt;</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="m">1</span><span class=" -Punctuation">,</span><span class="m">2</span><span class=" -Punctuation">,</span><span class="m">3</span><span class=" -Punctuation">]</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="m">2</span><span class=" -Punctuation">,</span><span class="m">3</span><span class=" -Punctuation">,</span><span class="m">4</span><span class=" -Punctuation">]</span>
</code></pre></div>
<p>Note that <code>map(s)</code> only succeeds if <code>s</code> succeeds for each element of the list.
The <code>fetch</code> and <code>filter</code> strategies are variations on map that use the failure of <code>s</code> to list elements.</p>
<div class="highlight"><pre><span></span><code><span class="nv">fetch</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="nv">s</span><span class="w"> </span><span class=" -Punctuation">|</span><span class="w"> </span><span class="nv">id</span><span class=" -Punctuation">]</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="nv">id</span><span class="w"> </span><span class=" -Punctuation">|</span><span class="w"> </span><span class="nv">fetch</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)]</span>
</code></pre></div>
<p>The <code>fetch</code> strategy traverses a list until it finds a element for which <code>s</code> succeeds and then stops.
That element is the only one that is transformed.</p>
<div class="highlight"><pre><span></span><code><span class="nv">filter</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class=" -Punctuation">[]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">([</span><span class="nv">s</span><span class="w"> </span><span class=" -Punctuation">|</span><span class="w"> </span><span class="nv">filter</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)]</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="o">?</span><span class=" -Punctuation">[</span><span class="w"> </span><span class=" -Punctuation">|&lt;</span><span class="nv">id</span><span class=" -Punctuation">&gt;];</span><span class="w"> </span><span class="nv">filter</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span>
</code></pre></div>
<p>The <code>filter</code> strategy applies <code>s</code> to each element of a list, but only keeps the elements for which it succeeds.</p>
<div class="highlight"><pre><span></span><code><span class="nv">even</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="k">where</span><span class=" -Punctuation">(&lt;</span><span class="nv">eq</span><span class=" -Punctuation">&gt;(&lt;</span><span class="nv">mod</span><span class=" -Punctuation">&gt;(&lt;</span><span class="nv">id</span><span class=" -Punctuation">&gt;,</span><span class="m">2</span><span class=" -Punctuation">),</span><span class="m">0</span><span class=" -Punctuation">))</span>

<span class=" -Punctuation">&lt;</span><span class="nv">filter</span><span class=" -Punctuation">(</span><span class="nv">even</span><span class=" -Punctuation">)&gt;</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="m">1</span><span class=" -Punctuation">,</span><span class="m">2</span><span class=" -Punctuation">,</span><span class="m">3</span><span class=" -Punctuation">,</span><span class="m">4</span><span class=" -Punctuation">,</span><span class="m">5</span><span class=" -Punctuation">,</span><span class="m">6</span><span class=" -Punctuation">,</span><span class="m">7</span><span class=" -Punctuation">,</span><span class="m">8</span><span class=" -Punctuation">]</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class=" -Punctuation">[</span><span class="m">2</span><span class=" -Punctuation">,</span><span class="m">4</span><span class=" -Punctuation">,</span><span class="m">6</span><span class=" -Punctuation">,</span><span class="m">8</span><span class=" -Punctuation">]</span>
</code></pre></div>
<h2 id="format-checking">Format Checking<a class="headerlink" href="#format-checking" title="Permanent link">&para;</a></h2>
<p>Another application of congruences is in the definition of format checkers.
A format checker describes a subset of a term language using a recursive pattern.
This can be used to verify input or output of a transformation, and for documentation purposes.
Format checkers defined with congruences can check subsets of signatures or regular tree grammars.
For example, the subset of terms of a signature in a some normal form.</p>
<p>As an example, consider checking the output of the <code>dnf</code> and <code>cnf</code> transformations.</p>
<div class="highlight"><pre><span></span><code><span class="nv">conj</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">And</span><span class=" -Punctuation">(</span><span class="nv">conj</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">conj</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">s</span>
<span class="nv">disj</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">Or</span><span class="w"> </span><span class=" -Punctuation">(</span><span class="nv">disj</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">disj</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">s</span>

<span class="c c-Singleline">// Conjunctive normal form</span>
<span class="nv">conj-nf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">conj</span><span class=" -Punctuation">(</span><span class="nv">disj</span><span class=" -Punctuation">(</span><span class="nv">Not</span><span class=" -Punctuation">(</span><span class="nv">Atom</span><span class=" -Punctuation">(</span><span class="nv">id</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Atom</span><span class=" -Punctuation">(</span><span class="nv">id</span><span class=" -Punctuation">)))</span>

<span class="c c-Singleline">// Disjunctive normal form</span>
<span class="nv">disj-nf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">disj</span><span class=" -Punctuation">(</span><span class="nv">conj</span><span class=" -Punctuation">(</span><span class="nv">Not</span><span class=" -Punctuation">(</span><span class="nv">Atom</span><span class=" -Punctuation">(</span><span class="nv">id</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Atom</span><span class=" -Punctuation">(</span><span class="nv">id</span><span class=" -Punctuation">)))</span>
</code></pre></div>
<p>The strategies <code>conj(s)</code> and <code>disj(s)</code> check that the subject term is a conjunct or a disjunct, respectively, with terms satisfying s at the leaves.
The strategies <code>conj-nf</code> and <code>disj-nf</code> check that the subject term is in conjunctive or disjunctive normal form, respectively.</p>
<h2 id="generic-traversal">Generic Traversal<a class="headerlink" href="#generic-traversal" title="Permanent link">&para;</a></h2>
<p>Using congruence operators we constructed a generic, i.e. transformation independent, bottom-up traversal for proposition terms.
The same can be done for other data types.
However, since the sets of constructors of abstract syntax trees of typical programming languages can be quite large, this may still amount to quite a bit of work that is not reusable across data types; even though a strategy such as bottom-up traversal, is basically data-type independent.
Thus, Stratego provides generic traversal by means of several generic one-step descent operators.
The operator <code>all</code>, applies a strategy to all direct subterms.
The operator <code>one</code>, applies a strategy to one direct subterm, and the operator <code>some</code>, applies a strategy to as many direct subterms as possible, and at least one.</p>
<h2 id="visiting-all-subterms">Visiting All Subterms<a class="headerlink" href="#visiting-all-subterms" title="Permanent link">&para;</a></h2>
<p>The <code>all(s)</code> strategy transforms a constructor application by applying the parameter strategy <code>s</code> to each direct subterm.
An application of <code>all(s)</code> fails if the application to one of the subterms fails.
The following example shows how all (1) applies to any term, and (2) applies its argument strategy uniformly to all direct subterms.
That is, it is not possible to do something special for a particular subterm (that’s what congruences are for).</p>
<div class="highlight"><pre><span></span><code><span class=" -Punctuation">&lt;</span><span class="k">all</span><span class=" -Punctuation">(</span><span class="o">!</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">))&gt;</span>
<span class="w">  </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;14&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">))</span>

<span class=" -Punctuation">&lt;</span><span class="k">all</span><span class=" -Punctuation">(</span><span class="o">!</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;z&quot;</span><span class=" -Punctuation">))&gt;</span>
<span class="w">  </span><span class="nv">Times</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;b&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class="nv">Times</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;z&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;z&quot;</span><span class=" -Punctuation">))</span>
</code></pre></div>
<h2 id="defining-traversals-with-all">Defining Traversals with All<a class="headerlink" href="#defining-traversals-with-all" title="Permanent link">&para;</a></h2>
<p>The <code>all(s)</code> operator is really the ultimate replacement for the <a href="../../strategic-rewriting/traversal-with-rules/">traversal with rules</a> idiom.
Instead of specifying a rule or congruence for each constructor, the single application of the <code>all</code> operator takes care of traversing all constructors.
Thus, we can replace the <code>propbu</code> strategy by a completely generic definition of bottom-up traversal.
Consider again the last definition of <code>propbu</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nv">proptr</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">Not</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">And</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Or</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Impl</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">Eq</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">,</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">)</span>
<span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">proptr</span><span class=" -Punctuation">(</span><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)));</span><span class="w"> </span><span class="nv">s</span>
</code></pre></div>
<p>The role of <code>proptr(s)</code> in this definition can be replaced by <code>all(s)</code>, since that achieves exactly the same, namely applying <code>s</code> to the direct subterms of constructors:</p>
<div class="highlight"><pre><span></span><code><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="k">all</span><span class=" -Punctuation">(</span><span class="nv">propbu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">));</span><span class="w"> </span><span class="nv">s</span>
</code></pre></div>
<p>Moreover, <code>all</code> succeeds on any constructor in any signature, so we can also drop the <code>try</code> as well, which was there only because <code>proptr</code> fails on the <code>Atom(...)</code>, <code>True()</code>, and <code>False()</code> nodes at the leaves.</p>
<p>However, the strategy now is completely generic, i.e. independent of the particular structure it is applied to.
In the Stratego Library this strategy is called <code>bottomup(s)</code>, and defined as follows:</p>
<div class="highlight"><pre><span></span><code><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="k">all</span><span class=" -Punctuation">(</span><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">));</span><span class="w"> </span><span class="nv">s</span>
</code></pre></div>
<p>It first recursively transforms the subterms of the subject term and then applies <code>s</code> to the result.
Using this definition, the normalization of propositions now reduces to the following module, which is only concerned with the selection and composition of rewrite rules:</p>
<div class="highlight"><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="nv">prop-dnf11</span>
<span class="k">imports</span><span class="w"> </span><span class="nv">prop-rules</span>
<span class="k">strategies</span>
<span class="w">  </span><span class="nv">dnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">DN</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">(</span><span class="nv">DefI</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefE</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMA</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMO</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DAOL</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DAOR</span><span class=" -Punctuation">);</span><span class="w"> </span><span class="nv">dnf</span><span class=" -Punctuation">))</span>
<span class="w">  </span><span class="nv">cnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">DN</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class=" -Punctuation">(</span><span class="nv">DefI</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefE</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMA</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMO</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DOAL</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DOAR</span><span class=" -Punctuation">);</span><span class="w"> </span><span class="nv">cnf</span><span class=" -Punctuation">))</span>
</code></pre></div>
<p>In fact, these definitions still contain a reusable pattern.
With a little squinting we see that the definitions match the following pattern:</p>
<div class="highlight"><pre><span></span><code><span class="nv">dnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">dnf-rules</span><span class=" -Punctuation">;</span><span class="w"> </span><span class="nv">dnf</span><span class=" -Punctuation">))</span>
<span class="nv">cnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">cnf-rules</span><span class=" -Punctuation">;</span><span class="w"> </span><span class="nv">cnf</span><span class=" -Punctuation">))</span>
</code></pre></div>
<p>In which we can recognize the definition of innermost reduction, which the Stratego Library defines as:</p>
<div class="highlight"><pre><span></span><code><span class="nv">innermost</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">bottomup</span><span class=" -Punctuation">(</span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">;</span><span class="w"> </span><span class="nv">innermost</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)))</span>
</code></pre></div>
<p>The <code>innermost</code> strategy performs a bottom-up traversal of a term.
After transforming the subterms of a term it tries to apply the transformation <code>s</code>.
If successful the result is recursively transformed with an application of <code>innermost</code>.
This brings us to the final form for the proposition normalizations:</p>
<div class="highlight"><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="nv">prop-dnf12</span>
<span class="k">imports</span><span class="w"> </span><span class="nv">prop-rules</span>
<span class="k">strategies</span>
<span class="w">  </span><span class="nv">dnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">innermost</span><span class=" -Punctuation">(</span><span class="nv">DN</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefI</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefE</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMA</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMO</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DAOL</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DAOR</span><span class=" -Punctuation">)</span>
<span class="w">  </span><span class="nv">cnf</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">innermost</span><span class=" -Punctuation">(</span><span class="nv">DN</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefI</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DefE</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMA</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DMO</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DOAL</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">DOAR</span><span class=" -Punctuation">)</span>
</code></pre></div>
<p>Different transformations can be achieved by using a selection of rules and a strategy, which is generic, yet defined in Stratego itself using strategy combinators.</p>
<h2 id="visiting-one-subterm">Visiting One Subterm<a class="headerlink" href="#visiting-one-subterm" title="Permanent link">&para;</a></h2>
<p>The <code>one(s)</code> strategy transforms a constructor application by applying the parameter strategy <code>s</code> to exactly one direct subterm.
An application of <code>one(s)</code> fails if the application to all of the subterms fails.
The following applications illustrate the behavior of the combinator:</p>
<div class="highlight"><pre><span></span><code><span class=" -Punctuation">&lt;</span><span class="k">one</span><span class=" -Punctuation">(</span><span class="o">!</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">))&gt;</span>
<span class="w">  </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;14&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span>

<span class=" -Punctuation">&lt;</span><span class="k">one</span><span class=" -Punctuation">(</span>\<span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="nv">x</span><span class=" -Punctuation">)</span><span class="w"> </span><span class="nv">-</span><span class=" -Punctuation">&gt;</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(&lt;</span><span class="nv">addS</span><span class=" -Punctuation">&gt;(</span><span class="nv">x</span><span class=" -Punctuation">,</span><span class="s">&quot;1&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span>\<span class="w"> </span><span class=" -Punctuation">)&gt;</span>
<span class="w">  </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;3&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">=&gt;</span><span class="w"> </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;4&quot;</span><span class=" -Punctuation">))</span>

<span class=" -Punctuation">&lt;</span><span class="k">one</span><span class=" -Punctuation">(</span><span class="o">?</span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">_</span><span class=" -Punctuation">,</span><span class="nv">_</span><span class=" -Punctuation">))&gt;</span>
<span class="w">  </span><span class="nv">Plus</span><span class=" -Punctuation">(</span><span class="nv">Var</span><span class=" -Punctuation">(</span><span class="s">&quot;a&quot;</span><span class=" -Punctuation">),</span><span class="w"> </span><span class="nv">Int</span><span class=" -Punctuation">(</span><span class="s">&quot;4&quot;</span><span class=" -Punctuation">))</span><span class="w"> </span><span class="c c-Singleline">// fails</span>
</code></pre></div>
<h2 id="defining-traversals-with-one">Defining Traversals with One<a class="headerlink" href="#defining-traversals-with-one" title="Permanent link">&para;</a></h2>
<p>A frequently used application of <code>one</code> is the <code>oncetd(s)</code> traversal, which performs a left to right depth first search/transformation that stops as soon as s has been successfully applied.</p>
<div class="highlight"><pre><span></span><code><span class="nv">oncetd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="k">one</span><span class=" -Punctuation">(</span><span class="nv">oncetd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span>
</code></pre></div>
<p>Thus, <code>s</code> is first applied to the root of the subject term.
If that fails, its direct subterms are searched one by one (from left to right), with a recursive call to <code>oncetd(s)</code>.</p>
<p>An application of <code>oncetd</code> is the <code>contains(|t)</code> strategy, which checks whether the subject term contains a subterm that is equal to t.</p>
<div class="highlight"><pre><span></span><code><span class="nv">contains</span><span class=" -Punctuation">(|</span><span class="nv">t</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">oncetd</span><span class=" -Punctuation">(</span><span class="o">?</span><span class="nv">t</span><span class=" -Punctuation">)</span>
</code></pre></div>
<p>Through the depth first search of <code>oncetd</code>, either an occurrence of <code>t</code> is found, or all subterms are verified to be unequal to <code>t</code>.</p>
<p>Here are some other one-pass traversals using the one combinator:</p>
<div class="highlight"><pre><span></span><code><span class="nv">oncebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w">  </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="k">one</span><span class=" -Punctuation">(</span><span class="nv">oncebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">s</span>
<span class="nv">spinetd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">;</span><span class="w"> </span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="k">one</span><span class=" -Punctuation">(</span><span class="nv">spinetd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)))</span>
<span class="nv">spinebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">try</span><span class=" -Punctuation">(</span><span class="k">one</span><span class=" -Punctuation">(</span><span class="nv">spinebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)));</span><span class="w"> </span><span class="nv">s</span>
</code></pre></div>
<p>Here are some fixe-point traversals, i.e., traversals that apply their argument transformation exhaustively to the subject term.</p>
<div class="highlight"><pre><span></span><code><span class="nv">reduce</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w">     </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">repeat</span><span class=" -Punctuation">(</span><span class="k">rec</span><span class="w"> </span><span class="nv">x</span><span class=" -Punctuation">(</span><span class="k">one</span><span class=" -Punctuation">(</span><span class="nv">x</span><span class=" -Punctuation">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">))</span>
<span class="nv">outermost</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w">  </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">repeat</span><span class=" -Punctuation">(</span><span class="nv">oncetd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span>
<span class="nv">innermostI</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">repeat</span><span class=" -Punctuation">(</span><span class="nv">oncebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span>
</code></pre></div>
<p>The difference is the subterm selection strategy.</p>
<h2 id="visiting-some-subterms">Visiting Some Subterms<a class="headerlink" href="#visiting-some-subterms" title="Permanent link">&para;</a></h2>
<p>The <code>some(s)</code> strategy transforms a constructor application by applying the parameter strategy <code>s</code> to as many direct subterms as possible and at least one. An application of <code>some(s)</code> fails if the application to all of the subterms fails.</p>
<p>Some one-pass traversals based on some:</p>
<div class="highlight"><pre><span></span><code><span class="nv">sometd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="k">some</span><span class=" -Punctuation">(</span><span class="nv">sometd</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span>
<span class="nv">somebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="k">some</span><span class=" -Punctuation">(</span><span class="nv">somebu</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">))</span><span class="w"> </span><span class=" -Punctuation">&lt;</span><span class="o">+</span><span class="w"> </span><span class="nv">s</span>
</code></pre></div>
<p>A fixed-point traversal with some:</p>
<div class="highlight"><pre><span></span><code><span class="nv">reduce-par</span><span class=" -Punctuation">(</span><span class="nv">s</span><span class=" -Punctuation">)</span><span class="w"> </span><span class=" -Punctuation">=</span><span class="w"> </span><span class="nv">repeat</span><span class=" -Punctuation">(</span><span class="k">rec</span><span class="w"> </span><span class="nv">x</span><span class=" -Punctuation">(</span><span class="k">some</span><span class=" -Punctuation">(</span><span class="nv">x</span><span class=" -Punctuation">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">s</span><span class=" -Punctuation">))</span>
</code></pre></div>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Bas Luttik and Eelco Visser. Specification of rewriting strategies. In M. P. A. Sellink, editor, <em>2<sup>nd</sup> International Workshop on the Theory and Practice of Algebraic Specifications (ASF+SDF 1997)</em>, Electronic Workshops in Computing. Berlin, November 1997. Springer-Verlag.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-01-19
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2010-2023 Spoofax Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes"], "search": "../../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.ba449ae6.min.js"></script>
      
        <script src="../../../../assets/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>