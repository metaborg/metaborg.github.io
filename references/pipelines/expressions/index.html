
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spoofax language workbench">
      
      
        <meta name="author" content="Spoofax Team">
      
      
        <link rel="canonical" href="https://www.spoofax.dev/references/pipelines/expressions/">
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Expressions - Spoofax</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/styles.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    

<!-- Determine title -->

<!-- prettier-ignore -->






<!-- Open graph meta tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Spoofax - Expressions" />
<meta property="og:description" content="Spoofax language workbench" />
<meta property="og:url" content="https://www.spoofax.dev/references/pipelines/expressions/" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/373448219/bb3bb300-d8ee-11eb-9991-a5080ae2657c" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1080" />
<meta property="og:image:height" content="568" />


  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="spoofax" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#expressions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../../.."
      title="Spoofax"
      class="md-header__button md-logo"
      aria-label="Spoofax"
      data-md-component="logo"
    >
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <a 
            href="../../.."
            title="Spoofax"
            class="md-ellipsis"
            aria-label="Spoofax"
          >
            Spoofax
          </a>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Expressions
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="spoofax"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/metaborg/spoofax" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    spoofax
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tutorials/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../howtos/" class="md-tabs__link">
        How-Tos
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        References
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../background/" class="md-tabs__link">
        Background
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../support/" class="md-tabs__link">
        Support
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../release/stable/" class="md-tabs__link">
        Releases
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Spoofax" class="md-nav__button md-logo" aria-label="Spoofax" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Spoofax
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/metaborg/spoofax" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    spoofax
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../..">Home</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../tutorials/">Tutorials</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../howtos/">How-Tos</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="How-Tos" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          How-Tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/installation/install-eclipse-bundle/" class="md-nav__link">
        Install the Eclipse with Spoofax Plugin Bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/installation/install-eclipse-plugin-manually/" class="md-nav__link">
        Install the Spoofax Eclipse Plugin Manually
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/installation/install-from-source/" class="md-nav__link">
        Install Spoofax from Source
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Static Semantics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/statix/debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/statix/migrating-from-nabl2/" class="md-nav__link">
        Migrate from NaBL2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/statix/migrating-to-concurrent-solver/" class="md-nav__link">
        Migrating to the Concurrent Solver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/statix/signature-generator/" class="md-nav__link">
        Signature Generator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Transformation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Transformation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Transformation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/generate-signature/" class="md-nav__link">
        How to Generate a Stratego Signature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/run-stratego-programs/" class="md-nav__link">
        How to Run Stratego Programs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/generate-pretty-printer/" class="md-nav__link">
        How to Generate a Pretty-Printer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/debug-stratego/" class="md-nav__link">
        Debug Stratego Programs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/concrete-syntax/" class="md-nav__link">
        Concrete Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/exchange-terms/" class="md-nav__link">
        Exchange Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/inspect-terms/" class="md-nav__link">
        Inspect Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/stratego/stratego-1-to-2/" class="md-nav__link">
        Migrating from Stratego 1 to Stratego 2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_5">
          Editor Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editor Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Editor Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/editor-services/rename-refactoring/" class="md-nav__link">
        Add Rename Refactoring to an Existing Project
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" type="checkbox" id="__nav_3_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../howtos/development/">Development</a>
          
            <label for="__nav_3_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Development" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/development/requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/development/maven/" class="md-nav__link">
        Maven
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/development/building/" class="md-nav__link">
        Building
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/development/developing/" class="md-nav__link">
        Developing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/development/releasing/" class="md-nav__link">
        Releasing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../howtos/development/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">References</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../config/">Configuration</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/language/" class="md-nav__link">
        Language Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/project/" class="md-nav__link">
        Project Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../syntax/">Syntax</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Syntax" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Syntax
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/symbols/" class="md-nav__link">
        Symbols
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/productions/" class="md-nav__link">
        Productions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/lexical-syntax/" class="md-nav__link">
        Lexical Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/context-free-syntax/" class="md-nav__link">
        Context-Free Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/kernel-syntax/" class="md-nav__link">
        Kernel Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/start-symbols/" class="md-nav__link">
        Start Symbols
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/disambiguation/" class="md-nav__link">
        Disambiguation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/layout-sensitivity/" class="md-nav__link">
        Layout Sensitivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/recovery/" class="md-nav__link">
        Recovery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../syntax/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../statix/">Static Semantics</a>
          
            <label for="__nav_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/concepts/" class="md-nav__link">
        Language Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/terms/" class="md-nav__link">
        Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/basic-constraints/" class="md-nav__link">
        Basic Constraints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/rules/" class="md-nav__link">
        Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/scope-graphs/" class="md-nav__link">
        Scope Graph Constraints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/queries/" class="md-nav__link">
        Queries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/tests/" class="md-nav__link">
        Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../statix/stratego-api/" class="md-nav__link">
        Stratego API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../flowspec/">Data Flow Analysis</a>
          
            <label for="__nav_4_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Data Flow Analysis" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Data Flow Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/Stratego_API/" class="md-nav__link">
        Stratego API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../flowspec/references/" class="md-nav__link">
        References
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../stratego/">Transformation</a>
          
            <label for="__nav_4_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Transformation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Transformation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/lexical/" class="md-nav__link">
        Lexical
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/terms/" class="md-nav__link">
        Terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/rewrite-rules/" class="md-nav__link">
        Rewrite Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategy-definitions/" class="md-nav__link">
        Strategy Definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/strategy-combinators/" class="md-nav__link">
        Strategy Combinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/dynamic-rules/" class="md-nav__link">
        Dynamic Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stratego/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../testing/">Testing</a>
          
            <label for="__nav_4_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Testing" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/test-suites/" class="md-nav__link">
        Test suites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/test-expectations/" class="md-nav__link">
        Test Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/running-tests/" class="md-nav__link">
        Running SPT Tests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_8" type="checkbox" id="__nav_4_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../editor-services/">Editor Services</a>
          
            <label for="__nav_4_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Editor Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_8">
          <span class="md-nav__icon md-icon"></span>
          Editor Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/esv/" class="md-nav__link">
        ESV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/analysis/" class="md-nav__link">
        Analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/file-extensions/" class="md-nav__link">
        Language File Extensions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/hover/" class="md-nav__link">
        Hover Tooltips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/menus/" class="md-nav__link">
        Action Menus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/on-save/" class="md-nav__link">
        On-Save Handlers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/outline/" class="md-nav__link">
        Outline View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/parsing/" class="md-nav__link">
        Parsing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/reference-resolution/" class="md-nav__link">
        Reference Resolution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/renaming/" class="md-nav__link">
        Rename Refactoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/stratego/" class="md-nav__link">
        Stratego
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editor-services/syntax-highlighting/" class="md-nav__link">
        Syntax Highlighting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9" type="checkbox" id="__nav_4_9" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Pipelines</a>
          
            <label for="__nav_4_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Pipelines" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_9">
          <span class="md-nav__icon md-icon"></span>
          Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        Module system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generics/" class="md-nav__link">
        Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Expressions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Expressions
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntactic-priorities-disambiguation" class="md-nav__link">
    Syntactic priorities (disambiguation)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-overview" class="md-nav__link">
    Quick overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#block" class="md-nav__link">
    Block
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-nullable" class="md-nav__link">
    Make nullable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-non-nullable" class="md-nav__link">
    Make non-nullable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#not" class="md-nav__link">
    Not
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compare-for-inequality" class="md-nav__link">
    Compare for (in)equality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-or" class="md-nav__link">
    Logical or
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-and" class="md-nav__link">
    logical and
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addition" class="md-nav__link">
    Addition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#value-declaration" class="md-nav__link">
    Value declaration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#value-reference" class="md-nav__link">
    Value reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if" class="md-nav__link">
    if
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-else" class="md-nav__link">
    if-else
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-comprehension" class="md-nav__link">
    List comprehension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-calls" class="md-nav__link">
    Function calls
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-calls" class="md-nav__link">
    Method calls
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-supplier" class="md-nav__link">
    create supplier
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-supplier" class="md-nav__link">
    task supplier
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requires" class="md-nav__link">
    requires
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generates" class="md-nav__link">
    generates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    list
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk" class="md-nav__link">
    walk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exists" class="md-nav__link">
    exists
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    read
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return" class="md-nav__link">
    Return
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fail" class="md-nav__link">
    fail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unit-literal" class="md-nav__link">
    Unit literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#true" class="md-nav__link">
    True
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#false" class="md-nav__link">
    False
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#int-literal" class="md-nav__link">
    int literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null" class="md-nav__link">
    null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuple-literal" class="md-nav__link">
    Tuple literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-literal" class="md-nav__link">
    List literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-literal" class="md-nav__link">
    String literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#path-literal" class="md-nav__link">
    path literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-lexical-elements" class="md-nav__link">
    Common lexical elements
  </a>
  
    <nav class="md-nav" aria-label="Common lexical elements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-and-filterpart" class="md-nav__link">
    Filter and FilterPart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stamper-stamperpart-and-stamperkind" class="md-nav__link">
    Stamper, StamperPart and StamperKind
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../limitations/" class="md-nav__link">
        Known bugs and limitations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../background/">Background</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Background" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Background
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../background/bibliography/">Bibliography</a>
          
            <label for="__nav_5_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Bibliography" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Bibliography
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/bibliography/sdf3/" class="md-nav__link">
        An SDF3 Bibliography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/bibliography/statix/" class="md-nav__link">
        A Statix Bibliography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/bibliography/stratego/" class="md-nav__link">
        A Stratego Bibliography
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../background/statix/">Static Semantics</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Static Semantics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Static Semantics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../background/stratego/">Transformations</a>
          
            <label for="__nav_5_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Transformations" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Transformations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4_2" type="checkbox" id="__nav_5_4_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4_2">
          Strategic Rewriting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Strategic Rewriting" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_4_2">
          <span class="md-nav__icon md-icon"></span>
          Strategic Rewriting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategic-rewriting/term-rewriting/" class="md-nav__link">
        Term Rewriting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategic-rewriting/limitations-of-rewriting/" class="md-nav__link">
        Limitations of Rewriting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategic-rewriting/traversal-with-rules/" class="md-nav__link">
        Factoring out Traversal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategic-rewriting/strategic-rewriting/" class="md-nav__link">
        Strategic Rewriting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4_3" type="checkbox" id="__nav_5_4_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4_3">
          Strategy Combinators
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Strategy Combinators" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_4_3">
          <span class="md-nav__icon md-icon"></span>
          Strategy Combinators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategy-combinators/sequential/" class="md-nav__link">
        Sequential Combinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategy-combinators/term/" class="md-nav__link">
        Term Combinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategy-combinators/traversal/" class="md-nav__link">
        Traversal Combinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/strategy-combinators/type-unifying/" class="md-nav__link">
        Type Unifying Traversal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/stratego/origin-tracking/" class="md-nav__link">
        Origin Tracking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../background/documentation/">Documentation</a>
          
            <label for="__nav_5_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/pages/" class="md-nav__link">
        Adding Pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/links/" class="md-nav__link">
        Links
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/code-highlighting/" class="md-nav__link">
        Code Highlighting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/guis-and-menus/" class="md-nav__link">
        GUIs and Menus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/citations/" class="md-nav__link">
        Citations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../background/documentation/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../support/">Support</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Support" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../support/contributions/" class="md-nav__link">
        Contributions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/stable/" class="md-nav__link">
        Stable Releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/develop/" class="md-nav__link">
        Development Releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.16/" class="md-nav__link">
        Spoofax 2.5.16 (04-06-2021)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.15/" class="md-nav__link">
        Spoofax 2.5.15 (11-05-2021)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.14/" class="md-nav__link">
        Spoofax 2.5.14 (16-12-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.13/" class="md-nav__link">
        Spoofax 2.5.13 (20-11-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.12/" class="md-nav__link">
        Spoofax 2.5.12 (08-10-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.11/" class="md-nav__link">
        Spoofax 2.5.11 (17-07-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.10/" class="md-nav__link">
        Spoofax 2.5.10 (07-07-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.9/" class="md-nav__link">
        Spoofax 2.5.9 (08-05-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.8/" class="md-nav__link">
        Spoofax 2.5.8 (28-04-2020)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.7/" class="md-nav__link">
        Spoofax 2.5.7 (26-06-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.6/" class="md-nav__link">
        Spoofax 2.5.6 (24-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.5/" class="md-nav__link">
        Spoofax 2.5.5 (23-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.4/" class="md-nav__link">
        Spoofax 2.5.4 (08-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.3/" class="md-nav__link">
        Spoofax 2.5.3 (02-05-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.2/" class="md-nav__link">
        Spoofax 2.5.2 (12-03-2019)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.1/" class="md-nav__link">
        Spoofax 2.5.1 (02-10-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.5.0/" class="md-nav__link">
        Spoofax 2.5.0 (11-09-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.4.1/" class="md-nav__link">
        Spoofax 2.4.1 (29-01-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.4.0/" class="md-nav__link">
        Spoofax 2.4.0 (09-01-2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.3.0/" class="md-nav__link">
        Spoofax 2.3.0 (29-09-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.2.1/" class="md-nav__link">
        Spoofax 2.2.1 (04-05-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.2.0/" class="md-nav__link">
        Spoofax 2.2.0 (18-04-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.1.0/" class="md-nav__link">
        Spoofax 2.1.0 (10-01-2017)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.0.0/" class="md-nav__link">
        Spoofax 2.0.0 (08-07-2016)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/2.0.0-beta1/" class="md-nav__link">
        Spoofax 2.0.0-beta1 (07-04-2016)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.5.0/" class="md-nav__link">
        Spoofax 1.5.0 (18-12-2015)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.4.0/" class="md-nav__link">
        Spoofax 1.4.0 (06-03-2015)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.3.1/" class="md-nav__link">
        Spoofax 1.3.1 (09-12-2014)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.3.0/" class="md-nav__link">
        Spoofax 1.3.0 (12-11-2014)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.2.0/" class="md-nav__link">
        Spoofax 1.2.0 (13-08-2014)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.1.0/" class="md-nav__link">
        Spoofax 1.1.0 (25-03-2013)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.0.2/" class="md-nav__link">
        Spoofax 1.0.2 (15-02-2012)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/1.0.0/" class="md-nav__link">
        Spoofax 1.0.0 (28-12-2011)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/note/vnext/" class="md-nav__link">
        Spoofax vNext
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4">
          Migration Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Migration Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Migration Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/2.5.15/" class="md-nav__link">
        Spoofax 2.5.15 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/2.5.10/" class="md-nav__link">
        Spoofax 2.5.10 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/2.5.5/" class="md-nav__link">
        Spoofax 2.5.5 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/2.1.0/" class="md-nav__link">
        Spoofax 2.1.0 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/2.0.0/" class="md-nav__link">
        Spoofax 2.0.0 Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/march2016_project_structure/" class="md-nav__link">
        Directory structure migration (March 2016)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/migrate/vnext/" class="md-nav__link">
        Spoofax vNext Migration Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntactic-priorities-disambiguation" class="md-nav__link">
    Syntactic priorities (disambiguation)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-overview" class="md-nav__link">
    Quick overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#block" class="md-nav__link">
    Block
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-nullable" class="md-nav__link">
    Make nullable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-non-nullable" class="md-nav__link">
    Make non-nullable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#not" class="md-nav__link">
    Not
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compare-for-inequality" class="md-nav__link">
    Compare for (in)equality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-or" class="md-nav__link">
    Logical or
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-and" class="md-nav__link">
    logical and
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addition" class="md-nav__link">
    Addition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#value-declaration" class="md-nav__link">
    Value declaration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#value-reference" class="md-nav__link">
    Value reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if" class="md-nav__link">
    if
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-else" class="md-nav__link">
    if-else
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-comprehension" class="md-nav__link">
    List comprehension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-calls" class="md-nav__link">
    Function calls
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-calls" class="md-nav__link">
    Method calls
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-supplier" class="md-nav__link">
    create supplier
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-supplier" class="md-nav__link">
    task supplier
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requires" class="md-nav__link">
    requires
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generates" class="md-nav__link">
    generates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    list
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk" class="md-nav__link">
    walk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exists" class="md-nav__link">
    exists
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    read
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return" class="md-nav__link">
    Return
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fail" class="md-nav__link">
    fail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unit-literal" class="md-nav__link">
    Unit literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#true" class="md-nav__link">
    True
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#false" class="md-nav__link">
    False
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#int-literal" class="md-nav__link">
    int literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null" class="md-nav__link">
    null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuple-literal" class="md-nav__link">
    Tuple literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-literal" class="md-nav__link">
    List literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-literal" class="md-nav__link">
    String literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#path-literal" class="md-nav__link">
    path literal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-lexical-elements" class="md-nav__link">
    Common lexical elements
  </a>
  
    <nav class="md-nav" aria-label="Common lexical elements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-and-filterpart" class="md-nav__link">
    Filter and FilterPart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stamper-stamperpart-and-stamperkind" class="md-nav__link">
    Stamper, StamperPart and StamperKind
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/metaborg/metaborg.github.io/edit/main/docs/references/pipelines/expressions.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="expressions">Expressions<a class="headerlink" href="#expressions" title="Permanent link">&para;</a></h1>
<p>Function bodies in PIE DSL consist entirely of expressions.
Every expression has a type and returns a value of that type, with the exception of <code>fail</code> and <code>return</code>.</p>
<p>Expressions can use brackets to override the default priority rules, for example <code>a &amp;&amp; (b || c)</code>.
Brackets have the following form: <code>($Exp)</code></p>
<p>This section describes expressions in the PIE DSL.
Expressions can use declared values.
These are described <a href="../functions#parameters-and-values">in this section of the functions documentation</a>.</p>
<h2 id="syntactic-priorities-disambiguation">Syntactic priorities (disambiguation)<a class="headerlink" href="#syntactic-priorities-disambiguation" title="Permanent link">&para;</a></h2>
<p>Nested expressions can be ambiguous, for example <code>! true &amp;&amp; false</code> could either <code>! (true &amp;&amp; false) // = true</code> or <code>(!true) &amp;&amp; false // = false</code>.
To solve these ambiguities, each expression has a priority.
Expressions with higher priories will be nested in expressions with lower priority.
The example above is parsed as <code>(!true) &amp;&amp; false</code> because <a href="#not">not</a> has a higher priority than <a href="#logical-and">logical and</a>.
All expressions are left-associative, which means that if two expressions with the same priority are ambiguous, the leftmost expression will be nested in the rightmost expression.
For example, <code>3 - 2 + 1</code> is equivalent to <code>(3 - 2) + 1</code>.</p>
<p>The following list lists expressions in order of descending priority.
Expressions on the same number have the same priority.
If an expression is not listed, it cannot be ambiguous (e.g. Blocks and list literals)</p>
<ol reversed>
    <li><a href="#not">Not</a></li>
    <li><a href="#make-nullable">Make nullable</a>, <a href="#make-non-nullable">Make non-nullable</a></li>
    <li><a href="#addition">Addition</a></li>
    <li><a href="#compare-for-inequality">Compare for (in)equality</a></li>
    <li><a href="#logical-and">Logical and</a></li>
    <li><a href="#logical-or">Logical or</a></li>
    <li><a href="#list">list</a>, <a href="#walk">walk</a></li>
    <li><a href="#requires">requires</a>, <a href="#generates">generates</a></li>
    <li><a href="#read">read</a>, <a href="#exists">exists</a></li>
    <li><a href="#function-calls">Function calls</a>, <a href="#method-calls">Method calls</a>, <a href="#create-supplier">Create supplier</a>, <a href="#task-supplier">Task supplier</a></li>
    <li><a href="#filter-and-filterpart">Filters</a></li>
    <li><a href="#tuple-literal">Tuple literal</a>, <a href="#list-literal">List literal</a></li>
    <li><a href="#list-comprehension">List comprehension</a></li>
    <li><a href="#value-declaration">Value declaration</a></li>
    <li><a href="#return">return</a>, <a href="#fail">fail</a></li>
    <li><a href="#if-else">if-else</a></li>
    <li><a href="#if">if</a></li>
</ol>

<h2 id="quick-overview">Quick overview<a class="headerlink" href="#quick-overview" title="Permanent link">&para;</a></h2>
<p>The following table gives a quick overview of all expressions in the PIE DSL.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>syntax</th>
<th>example</th>
<th>description</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#block">Block</a></td>
<td><code>{$Exps}</code></td>
<td><code>{val x = 4; x+7}</code></td>
<td>A sequence of expressions</td>
<td>The type of the last expression</td>
</tr>
<tr>
<td><a href="#make-nullable">Make nullable</a></td>
<td><code>$Exp?</code></td>
<td><code>"nullable string"?</code></td>
<td>Makes the type <code>T</code> of an expression <a href="../types#nullable-types">nullable</a> (<code>T?</code>)</td>
<td>When applied to an expression of type <code>T</code>, <code>T?</code></td>
</tr>
<tr>
<td><a href="#make-non-nullable">Make non-nullable</a></td>
<td><code>$Exp!</code></td>
<td><code>input!</code></td>
<td>Makes the type <code>T?</code> of an expression non-<a href="../types#nullable-types">nullable</a> (<code>T</code>). Throws an exception if the value is <a href="#null">null</a></td>
<td>When applied to an expression of type <code>T?</code>, <code>T</code></td>
</tr>
<tr>
<td><a href="#not">Not</a></td>
<td><code>!$Exp</code></td>
<td><code>!flag</code></td>
<td>Turns <code>false</code> to <code>true</code> and vice versa</td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#compare-for-inequality">Compare for (in)equality</a></td>
<td><code>$Exp == $Exp</code> and <code>Exp != $Exp</code></td>
<td><code>result == null</code>, <code>errors != []</code></td>
<td>Compares two values for (in)equality</td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#logical-or">Logical or</a></td>
<td><code>$Exp || $Exp</code></td>
<td><code>dryRun || input == null</code></td>
<td>Is <code>true</code> unless both the values are <code>false</code></td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#logical-and">Logical and</a></td>
<td><code>$Exp &amp;&amp; $Exp</code></td>
<td><code>!dryRun &amp;&amp; input != null</code></td>
<td>Is <code>true</code> iff both values are <code>true</code></td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#addition">Addition</a></td>
<td><code>$Exp + $Exp</code></td>
<td><code>x + y</code></td>
<td>Adds or concatenates two values</td>
<td>Depends on the types of the expressions</td>
</tr>
<tr>
<td><a href="#value-declaration">Value declaration</a></td>
<td><code>val $VALID TypeHint? = $Exp</code></td>
<td><code>val num: int = 47</code></td>
<td>Declare a value by name</td>
<td>The type of the declared value</td>
</tr>
<tr>
<td><a href="#value-reference">Value reference</a></td>
<td><code>$VALID</code></td>
<td><code>x</code></td>
<td>Reference a value or parameter</td>
<td>The type of the referenced value</td>
</tr>
<tr>
<td><a href="#if">if</a></td>
<td><code>if ($Exp) $Exp</code></td>
<td><code>if (input == null) fail "Input is null"</code></td>
<td>Evaluates the body if the condition evaluates to <code>true</code></td>
<td><a href="../types#unit">unit</a></td>
</tr>
<tr>
<td><a href="#if-else">if-else</a></td>
<td><code>if ($Exp) $Exp else $Exp</code></td>
<td><code>if (name != null) name else default</code></td>
<td>Evaluates the first branch if the condition is <code>true</code>, and the second branch otherwise</td>
<td>The least upper bound of the types of the branches</td>
</tr>
<tr>
<td><a href="#list-comprehension">List comprehension</a></td>
<td><code>[$Exp | $Binder &lt;- $Exp]</code></td>
<td><code>["Key: $key; value: $value" | (key, value) &lt;- pairs]</code></td>
<td>Evaluate the expression for each element in a list</td>
<td>A <a href="../types#lists">list</a> of the type of the expression</td>
</tr>
<tr>
<td><a href="#function-calls">Function calls</a></td>
<td><code>$ModuleList$FUNCID$TypeArgs($Exps)</code></td>
<td><code>stdLib:okResult&lt;string&gt;("Hello world!")</code></td>
<td>Call <a href="../functions#function-invocations">a function</a></td>
<td>The <a href="../functions#return-type">return type of the function</a></td>
</tr>
<tr>
<td><a href="#method-calls">Method calls</a></td>
<td><code>$Exp.$FUNCID$TypeArgs($Exps)</code></td>
<td><code>file.replaceExtension("pp.pie")</code></td>
<td>Call <a href="../functions#function-invocations">a method</a></td>
<td>The <a href="../functions#return-type">return type of the method</a></td>
</tr>
<tr>
<td><a href="#create-supplier">Create supplier</a></td>
<td><code>supplier$TypeArgs($Exps)</code></td>
<td><code>supplier(47)</code></td>
<td>Create a supplier</td>
<td><a href="../types#supplier">A supplier</a> of the provided type</td>
</tr>
<tr>
<td><a href="#task-supplier">Task supplier</a></td>
<td><code>$ModuleList$FUNCID.supplier$TypeArgs($Exps)</code></td>
<td><code>lang:java:parse.supplier(file)</code></td>
<td>Create a supplier from a function</td>
<td><a href="../types#supplier">A supplier</a> of the return type of the function</td>
</tr>
<tr>
<td><a href="#requires">requires</a></td>
<td><code>requires $Exp $FilterPart? $StamperPart?</code></td>
<td><code>requires ./metaborg.yaml by hash</code></td>
<td>Declare that the current task depends on the provided <a href="../types#path">path</a></td>
<td><a href="../types#unit">unit</a></td>
</tr>
<tr>
<td><a href="#generates">generates</a></td>
<td><code>generates $Exp $StamperPart?</code></td>
<td><code>generates file by hash</code></td>
<td>Declare that the current task generates on the provided <a href="../types#path">path</a></td>
<td><a href="../types#unit">unit</a></td>
</tr>
<tr>
<td><a href="#list">list</a></td>
<td><code>list $Exp $FilterPart?</code></td>
<td><code>list ./examples with extension "pie"</code></td>
<td>Lists the direct children of the given <a href="../types#path">directory</a>. Note: for list literals, see further down this table.</td>
<td>A <a href="../types#lists">list</a> of <a href="../types#path">paths</a>, i.e. <code>path*</code></td>
</tr>
<tr>
<td><a href="#walk">walk</a></td>
<td><code>walk $Exp $FilterPart?</code></td>
<td><code>walk ./examples with extension "pie"</code></td>
<td>Recursively get all descendants of the given <a href="../types#path">directory</a></td>
<td>A <a href="../types#lists">list</a> of <a href="../types#path">paths</a>, i.e. <code>path*</code></td>
</tr>
<tr>
<td><a href="#exists">exists</a></td>
<td><code>exists $Exp</code></td>
<td><code>exists ./config.json</code></td>
<td>Check if a <a href="../types#path">file</a> exists</td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#read">read</a></td>
<td><code>read $Exp</code></td>
<td><code>read ./config.json</code></td>
<td>Returns the <a href="../types#path">file</a> contents as a string, or null if the file does not exist</td>
<td>A <a href="../types#nullable-types">nullable</a> <a href="../types#string">string</a>, i.e. <code>string?</code></td>
</tr>
<tr>
<td><a href="#return">return</a></td>
<td><code>return $Exp</code></td>
<td><code>return false</code></td>
<td>Returns the provided value from the current function</td>
<td><a href="../types#unit">unit</a>. Note: may get changed to <a href="../types#bottom">bottom type</a></td>
</tr>
<tr>
<td><a href="#fail">fail</a></td>
<td><code>fail $Exp</code></td>
<td><code>fail "input cannot be null"</code></td>
<td>Throws an ExecException with the provided <a href="../types#string">string</a> as message</td>
<td><a href="../types#unit">unit</a>. Note: may get changed to <a href="../types#bottom">bottom type</a></td>
</tr>
<tr>
<td><a href="#unit-literal">Unit literal</a></td>
<td><code>unit</code></td>
<td><code>unit</code></td>
<td>Literal expression of the only value of the <a href="../types#unit">unit type</a></td>
<td><a href="../types#unit">unit</a></td>
</tr>
<tr>
<td><a href="#true">true</a></td>
<td><code>true</code></td>
<td><code>true</code></td>
<td>Literal expression for the <a href="../types#bool">boolean</a> value <code>true</code>.</td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#false">false</a></td>
<td><code>false</code></td>
<td><code>false</code></td>
<td>Literal expression for the <a href="../types#bool">boolean</a> value <code>false</code>.</td>
<td><a href="../types#bool">bool</a></td>
</tr>
<tr>
<td><a href="#int-literal">int literal</a></td>
<td><code>"-"? [0-9]+</code></td>
<td><code>0</code>, <code>23</code>, <code>-4</code></td>
<td>A literal value of the <a href="../types#int">int type</a></td>
<td><a href="../types#int">int</a></td>
</tr>
<tr>
<td><a href="#null">null</a></td>
<td><code>null</code></td>
<td><code>null</code></td>
<td>Literal expression for the null value of <a href="../types#nullable-types">nullable types</a>.</td>
<td><a href="../types#null-type">null type</a></td>
</tr>
<tr>
<td><a href="#tuple-literal">Tuple literal</a></td>
<td><code>($Exps)</code></td>
<td><code>(1, "one", "une")</code></td>
<td>A literal value of a <a href="../types#tuples">tuple type</a></td>
<td>A <a href="../types#tuples">tuple type</a> of the types of the elements</td>
</tr>
<tr>
<td><a href="#list-literal">List literal</a></td>
<td><code>[$Exps]</code></td>
<td><code>(1, 2, 3)</code></td>
<td>A literal value of a <a href="../types#lists">list type</a>. For the keyword <code>list</code>, see earlier in this table.</td>
<td>A <a href="../types#lists">list</a> of the least upper bound of the types of the elements</td>
</tr>
<tr>
<td><a href="#string-literal">String literal</a></td>
<td><code>"$StrParts"</code></td>
<td><code>"Hello $name!"</code></td>
<td>A literal value of the <a href="../types#string">string type</a></td>
<td><a href="../types#string">string</a></td>
</tr>
<tr>
<td><a href="#path-literal">Path literal</a></td>
<td><code>$PathStart$PathParts</code></td>
<td><code>./src/test/resources</code></td>
<td>A literal value of the <a href="../types#path">path type</a></td>
<td><a href="../types#path">path</a></td>
</tr>
</tbody>
</table>
<p>There is also a section on <a href="#common-lexical-elements">common lexical elements</a>.
This covers <a href="#filter-and-filterpart">filters</a> and <a href="#stamper-stamperpart-and-stamperkind">stampers</a>.</p>
<h2 id="block">Block<a class="headerlink" href="#block" title="Permanent link">&para;</a></h2>
<p>Blocks are expressed as <code>{$Exps}</code>, where <code>$Exps</code> is a list of semi-colon separated expressions.
Its type and value are those of the final expressions in the block.
The final expression does not end with a semi-colon.
For example:
<div class="highlight"><pre><span></span><code>{
  val name = read ./example/name.txt;
  val greeting = read ./example/greeting.txt;
  &quot;$greeting $name&quot;
}
</code></pre></div></p>
<p>Empty blocks (blocks without any expression) are allowed, their type and value is <a href="../types#unit"><code>unit</code></a>.</p>
<p>Blocks introduce their own scope.
Expressions in the block are evaluated in that scope.
Values declared in the block are not allowed to shadow values or parameters outside the block.
This means that it is not allowed to declare a value with a name that already exists.
Values declared before the block are still visible inside the block.
Values declared inside the block are not visible after the block.</p>
<h2 id="make-nullable">Make nullable<a class="headerlink" href="#make-nullable" title="Permanent link">&para;</a></h2>
<p>Make nullable is expressed as a question mark after an expression.
As its name suggests, it makes a non-nullable expression nullable.
The value remains unchanged, but the type of the expression is now <a href="../types#nullability">nullable</a>.
Its syntax is <code>$Exp?</code>, for example <code>read ./name.txt == "Bob"?</code>.</p>
<p>It is an error to use this expression on an expression that was nullable already.</p>
<h2 id="make-non-nullable">Make non-nullable<a class="headerlink" href="#make-non-nullable" title="Permanent link">&para;</a></h2>
<p>Make non-nullable is expressed as an exclamation mark after an expression.
As its name suggests, it makes a nullable expression non-nullable.
The value remains unchanged, but the type of the expression is now <a href="../types#nullability">non-nullable</a>.
Its syntax is <code>$Exp!</code>, for example <code>read file!</code>.</p>
<p>It is an error to use this expression on an expression that was non-nullable already.</p>
<h2 id="not">Not<a class="headerlink" href="#not" title="Permanent link">&para;</a></h2>
<p>Logical negation.
It takes a <a href="../types#bool">boolean</a> expression and returns the opposite boolean value.
Its syntax is <code>!$Exp</code>, for example <code>if (!exists file) fail "$file should exist</code>.</p>
<h2 id="compare-for-inequality">Compare for (in)equality<a class="headerlink" href="#compare-for-inequality" title="Permanent link">&para;</a></h2>
<p>Compare two expressions for equality or inequality.
Two values are considered equal if they are both <code>null</code> or if the <code>equals</code> method in the backing Java class for the first value returns <code>true</code> when applied to the second value.
Otherwise, they are considered in-equal.
The syntax for equals is <code>$Exp == $Exp</code>, for example <code>x == null</code>.
The syntax for in-equals is <code>$Exp != $Exp</code>, for example <code>x != null</code>.</p>
<p>Expressions can only be compared if one is a non-strict subtype of the other.
This provides protection against accidentally comparing two expressions that can never be equal.</p>
<details class="hint">
<summary>Comparing <code>null</code> and empty lists</summary>
<p>Expressions with nullable types can have equal values despite not being subtypes of each other, if they are both <code>null</code>.
The same goes for list types with the empty list <code>[]</code>.
In these cases, check for these specific values: <code>x == null &amp;&amp; y == null</code>.</p>
</details>
<h2 id="logical-or">Logical or<a class="headerlink" href="#logical-or" title="Permanent link">&para;</a></h2>
<p>Logical or.
Takes two boolean expressions and returns <code>true</code> if either of them is <code>true</code> and <code>false</code> if both are <code>false</code>.
This operator short-circuits if the first expression is <code>true</code>, in which case the second expression will not be evaluated.
Its syntax is <code>$Exp || $Exp</code>, for example <code>exists file || default != null</code>.</p>
<h2 id="logical-and">logical and<a class="headerlink" href="#logical-and" title="Permanent link">&para;</a></h2>
<p>Logical and.
Takes two boolean expressions and returns <code>true</code> if both of them are <code>true</code> and <code>false</code> if either of them is <code>false</code>.
This operator short-circuits if the first expression is <code>false</code>, in which case the second expression will not be evaluated.
Its syntax is <code>$Exp &amp;&amp; $Exp</code>, for example <code>configFile != null &amp;&amp; exists configFile</code>.</p>
<h2 id="addition">Addition<a class="headerlink" href="#addition" title="Permanent link">&para;</a></h2>
<p>The add operator is an overloaded in the PIE DSL.
Its syntax is <code>$Exp + $Exp</code>.</p>
<p>The type of adding two values depends on their static types.
Adding two <a href="../types#int"><code>int</code>s</a> uses mathematical plus: <code>1 + 2 // result: 3</code>, and the result is an <code>int</code> as well.</p>
<p>Adding any value to a <a href="../types#string"><code>string</code></a> converts the value to a <code>string</code> and then concatenates the strings, resulting in a <code>string</code>: <code>"The value is:"  + x</code>.</p>
<details class="tip">
<summary>String interpolation</summary>
<p>It might be clearer to use <a href="#string">string interpolation.</a></p>
</details>
<p>Adding a <code>string</code> or a <code>path</code> to a relative <code>path</code> concatenates the values and results in a new <code>path</code>: <code>projectDir + ./src/test/resources/</code>
Adding a <code>string</code> or a <code>path</code> to an absolute path results in a runtime error.</p>
<details class="tip">
<summary>Path interpolation</summary>
<p>It might be clearer to use <a href="#path">path interpolation.</a></p>
</details>
<p>Finally, adding a type <code>T2</code> to a list with type <code>T1*</code> has two cases</p>
<ul>
<li>If <code>T2</code> is a list as well both lists will be concatenated.
  The element type of <code>T2</code> must be a subtype of <code>T1</code>.</li>
</ul>
<details class="tip">
<summary>Adding a list as an element</summary>
<p>To add a list <code>list: T*</code> as an element to a list of lists <code>lists: T**</code>, wrap the list in another list: <code>lists + [list]</code></p>
</details>
<details class="info">
<summary>Empty lists</summary>
<p>The PIE DSL keeps track of empty lists statically.
This allows it to give a warning when concatenating an empty list: <code>[1, 2, 3] + []</code> will give a warning.</p>
</details>
<ul>
<li>All other cases will append the second item to the first list.
  <code>T2</code> must be a (non-strict) subtype of <code>T1</code>.
  The element type of the resulting list is <code>T1</code>, unless <code>T2</code> is <a href="../types#null-type">the null type</a>.
  In that case, the element type of the resulting list is nullable as well.</li>
</ul>
<h2 id="value-declaration">Value declaration<a class="headerlink" href="#value-declaration" title="Permanent link">&para;</a></h2>
<p>Value declarations declare one or more named values.
Expressions that are evaluated afterwards in the same scope or an inner scope can use the declared values by <a href="#value-reference">referencing them</a>.
For more information on values, see <a href="../functions#parameters-and-values">parameters and values</a>.</p>
<p>A basic value declaration declares a name with a value: <code>val x = 9</code>.
It is possible to give a type hint with the name: <code>val y: int? = 8</code>.
When a type hint is given, the type of the expression must be assignable to the type of the type hint.
The type of the declared value is the provided type from the type hint, or the type of the expression if there is no type hint.
A value declaration can also do tuple destructuring and assign its values to multiple variables at once: <code>val (name: string, times: int*) = getPerformance(id)</code>.
Each name in a tuple destructuring can have a type hint.
Tuple destructuring cannot be nested, so the following will not parse: <code>val (a, (b, c)) = (1, (2, 3))</code>.</p>
<details class="example">
<summary>Some examples of value declarations</summary>
<div class="highlight"><pre><span></span><code>val firstName = &quot;Bob&quot;; // simple value declaration
val age: int = 27; // with type hint
val size: (int, int) = (800, 400); // assign tuple to single value.
val (width, height) = size; // tuple destructuring
// tuple destructuring with type hints
val (name: string, in: path, out: path) = (&quot;expressions&quot;, ./in/expressions.pie, ./out/expressions.java);
// tuple destructuring with mixed type hints
val (year, values: (string, bool)*) = (2020, []);
</code></pre></div>
</details>
<p>Value declarations have the following syntax: <code>val $Binder = $Exp</code>, where the binder can be either a single binder <code>$Bind</code> or tuple binder <code>($Binds)</code>, and binds can be only a name <code>$VALID</code> or a name with a type hint <code>$VALID: Type</code>.</p>
<p>The type of a value declaration is the type of the variable(s) that it declares.
It uses the type hint if available and the expression type otherwise.
Single declarations have that single type, tuple declarations return a tuple of all the types that they declare.</p>
<h2 id="value-reference">Value reference<a class="headerlink" href="#value-reference" title="Permanent link">&para;</a></h2>
<p>Value references reference a declared value or parameter by name.
The name must be declared beforehand in the current scope or an outer scope.
The type and value of a value reference is the type and value of the referenced value.
The syntax is <code>$VALID</code>, for example:
<div class="highlight"><pre><span></span><code>func incrementInefficiently(x: int) -&gt; int = {
    val y = 1;
    val res = x + y; // reference parameter x and value y
    res // reference value res
}
</code></pre></div></p>
<h2 id="if">if<a class="headerlink" href="#if" title="Permanent link">&para;</a></h2>
<p>An if expression conditionally evaluates an expression.
It takes two expressions.
The first one is the condition and is of type <a href="../types#bool">boolean</a>.
The second one is the body and can have any type.
Its syntax is <code>if ($Exp) $Exp</code>, for example <code>if (text == null) fail "Could not read $file"</code>.
If the condition evaluates to <code>true</code>, the body is evaluated, otherwise not.
The type of an <code>if</code> expression is <a href="../types#unit">the <code>unit</code> type</a>.
The condition and body are evaluated in their own scope, so value declarations in an <code>if</code> expression are not visible after the <code>if</code>.
Because an if expression is evaluated in its own scope and always returns the same value, the only use for an <code>if</code> expression is if the body has side-effects.</p>
<h2 id="if-else">if-else<a class="headerlink" href="#if-else" title="Permanent link">&para;</a></h2>
<p>Conditionally evaluates one of two expressions.
It takes three expressions.
The first one is the condition and is of type <a href="../types#bool">boolean</a>.
The second one is the true-branch and can have any type.
The third one is the false-branch and can also have any type.
Its syntax is <code>if ($Exp) $Exp else $Exp</code>, for example <code>if (name != null) name else default</code>.
If the condition evaluates to <code>true</code>, the true-branch is evaluated, otherwise the false-branch is evaluated.
The type of an if-else expression is the least upper bound of both branches.
The condition and branches are evaluated in their own scope, so value declarations in an if-else expression are not visible after the expression.</p>
<details class="example">
<summary>Some examples of the least upper bound of different types</summary>
<div class="highlight"><pre><span></span><code>val cat1: Cat = getCat(1);
val cat2: Cat = getCat(2);
val mammal: Mammal = getMammal();
val animal: Animal = getAnimal();
val dog: Dog = getDog();
val fish: Fish = getFish();
val animal1: Animal = getAnimal(1);
val animal2: Animal = getAnimal(2);
val catBox1: Box&lt;Cat&gt; = box(cat1);
val catBox2: Box&lt;Cat&gt; = box(cat2);
val anyBox1: Box&lt;_&gt; = box(animal1);
val anyBox2: Box&lt;_&gt; = box(catBox2);

// same type
if (flag) &quot;hello&quot; else &quot;world&quot;  // type: string
if (flag) 0 else 10             // type: int
if (flag) cat1 else cat2        // type: Cat
if (flag) animal1 else animal2  // type: Animal
if (flag) catBox1 else catBox2  // type: Box&lt;Cat&gt;
if (flag) anyBox1 else anyBox2  // type: Box&lt;_&gt;

// subtypes
if (flag) cat else mammal       // type: Mammal
if (flag) catBox else anyBox    // type: Box&lt;_&gt;


// different types
if (flag) cat1 else dog         // type: Mammal
if (flag) dog else cat2         // type: Mammal
if (flag) cat2 else fish        // type: Animal
if (flag) &quot;hello&quot; else 2        // type: top type
</code></pre></div>
</details>
<h2 id="list-comprehension">List comprehension<a class="headerlink" href="#list-comprehension" title="Permanent link">&para;</a></h2>
<p>List comprehensions apply an expression to every element of a list and return a new list with the new elements.
They are special syntax for mapping a list, which would not ordinarily be possible in the PIE DSL because there are no higher-order functions.
They have the syntax <code>[$Exp | $Binder &lt;- $Exp]</code>, for example <code>["Key: $key; value: $value" | (key, value) &lt;- pairs]</code>
The last expression is the input list and must have type <code>T*</code> for some <code>T</code>.
The binder defines names for the elements.
It can either be a single binder to bind the complete element, or a tuple binder if the element is a tuple, see <a href="#value-declaration">value declarations for more explanation</a>
The first expression can use the names defined by the binder.
The type of that expression is some type <code>Q</code>.
The type of the full list comprehension is a list of the type that was mapped to, i.e. <code>Q*</code>.</p>
<details class="info">
<summary>Empty lists</summary>
<p>A list comprehension over an empty list simply returns a new empty list.
A list comprehension will give a warning if the input list is statically known to be empty.
List comprehensions over empty lists are compiled to an immediate empty list of the declared type because it is not known what the element type of the empty list is.</p>
</details>
<h2 id="function-calls">Function calls<a class="headerlink" href="#function-calls" title="Permanent link">&para;</a></h2>
<p>Function calls <a href="../functions#function-invocations">invoke a declared function</a>.
They have the syntax <code>$ModuleList$FUNCID$TypeArgs($Exps)</code>, for example <code>stdLib:okResult&lt;string&gt;("Hello world!")</code>.
The second element is the <a href="../functions#name">function name</a>.
This function name can either be qualified or left unqualified by the module list.
If it is unqualified, the function name must be defined in the current module or be imported with a <a href="../modules#function-imports">function import</a>.
If it is qualified, <a href="../modules#qualified-calls">the function is looked up in that module</a>.
The number of type arguments must match the number of <a href="../functions#type-parameters">type parameters on the function declaration</a>, and the type arguments must be within bounds for the type parameters.
The expressions are the arguments to the function.
They must match the number of parameters that the function declared and they must be subtypes of the parameters.</p>
<p>The type of a call is the type of the declared function, where type parameters are replaced with their corresponding type arguments.</p>
<details class="example">
<summary>Return type is a generic parameter</summary>
<div class="highlight"><pre><span></span><code>func id&lt;T&gt;(param: T) -&gt; T = param
func test() -&gt; unit = {
    id&lt;string&gt;(&quot;Hello world!&quot;); // type is string
    id&lt;int&gt;(42);                // type is int
    unit
}
</code></pre></div>
</details>
<details class="note">
<summary>Arguments can declare values</summary>
<p><a href="#value-declaration">Value declarations</a> in the arguments are legal and are visible after the call.
Doing this is bad practice in almost all cases.
Declare the value before the call instead.
For example:
<div class="highlight"><pre><span></span><code>// declares the value `x` with value 9
// also passes 9 as argument to `test`
test(val x = 9);
x // x is visible after the call.
</code></pre></div>
Better way:
<div class="highlight"><pre><span></span><code>val x = 9; // declare before call
test(x); // refer to declared value
x
</code></pre></div></p>
</details>
<h2 id="method-calls">Method calls<a class="headerlink" href="#method-calls" title="Permanent link">&para;</a></h2>
<p>Method calls <a href="../functions#function-invocations">invoke</a> a <a href="../types#methods-and-overriding">declared method</a>.
They have the syntax <code>$Exp.$FUNCID$TypeArgs($Exps)</code>, for example <code>file.replaceExtension("pp.pie")</code>.
The first element is an arbitrary expression.
The second element is the method name.
This method is looked up on the type of the first expression.
The number of type arguments must match the number of <a href="../functions#type-parameters">type parameters on the method declaration</a>, and the type arguments must be within bounds for the type parameters.
The expressions are the arguments to the method.
They must match the number of parameters that the method declared and they must be subtypes of the parameters.</p>
<p>The type of a method call is the type of the declared method, where type parameters are replaced with their corresponding type arguments.</p>
<details class="note">
<summary>No methods on nullable types</summary>
<p>There are no methods defined on <a href="../types#nullable-types">nullable types</a>.
To access the methods of the inner type, <a href="#make-non-nullable">cast the expression to non-nullable</a> first:
<div class="highlight"><pre><span></span><code>val maybe: Result&lt;string, _ : Exception&gt; = null;
maybe.unwrap(); // error: Cannot call method on nullable type
maybe!.unwrap(); // type checks, but will throw a run time exception

// Better: handle null value before casting
if (maybe == null) {
    // handle null value here
    &quot;Cannot get value, result is null&quot;
} else {
    maybe!.unwrap()
}
</code></pre></div></p>
</details>
<details class="example">
<summary>Return type is a generic parameter</summary>
<div class="highlight"><pre><span></span><code>data Box&lt;T&gt; = foreign java org.example.methodCall.Box {
    func get() -&gt; T
}
func test(box1: Box&lt;int&gt;, box2: Box&lt;bool&gt;) -&gt; unit = {
    box1.get(); // type is int
    box2.get(); // type is bool
    unit
}
</code></pre></div>
</details>
<details class="note">
<summary>Expression and arguments can declare values</summary>
<p><a href="#value-declaration">Value declarations</a> in the expression or the arguments are legal and are visible after the call.
Declarations in the expression are also visible to the expressions.
Doing this is bad practice in almost all cases.
Declare the value before the call instead.
For example:
<div class="highlight"><pre><span></span><code>// declares the value `name` and `msg`
// also passes 9 as argument to `test`
// Note: getName returns an stdLib:Result&lt;string, _ : Exception&gt;
(val name = getName()).unwrapOrDefault(
  // `name` is visible inside the arguments
  val msg = &quot;Could not get name, exception: ${if (val ok = name.isOk())
      &quot;No error&quot;
    else
      name.unwrapErr()
    }&quot;
);
(name, ok, msg); // `name`, `ok` and `message` are visible after the call.
</code></pre></div>
Better way:
<div class="highlight"><pre><span></span><code>val name = getName();
val ok = name.isOk();
val msg = if (ok)
  &quot;Could not get name, exception: No error&quot;
else
  &quot;Could not get name, exception: ${name.unwrapErr()}&quot;
</code></pre></div></p>
</details>
<h2 id="create-supplier">create supplier<a class="headerlink" href="#create-supplier" title="Permanent link">&para;</a></h2>
<p><a href="../types#supplier">A supplier</a> for a value can be created with the <code>supplier</code> keyword.
It has the syntax <code>supplier$TypeArgs($Exps)</code>, for example <code>supplier(47)</code> or <code>supplier&lt;string&gt;("Hello world!")</code>.
The type arguments can either be omitted or must be a single type argument.
The expressions are the arguments for the supplier.
There should be only one argument, the value that the supplier will supply.
The type <code>T</code> for the supplier is the type argument if it was provided, or the type of the argument otherwise.
In case a type argument is provided, the argument should be a subtype of that type argument.
The type of a supplier creation expression is <code>supplier&lt;T&gt;</code>.</p>
<details class="note">
<summary>Supplier can be treated as a normal function</summary>
<p>Creating a supplier is like a normal <a href="#function calls">function call</a>, but built into the language grammar for implementation reasons.
This is the only function call where the type argument is derived at the moment.</p>
</details>
<h2 id="task-supplier">task supplier<a class="headerlink" href="#task-supplier" title="Permanent link">&para;</a></h2>
<p>A task supplier expression creates a <a href="../types#supplier">supplier</a> from a function.
A task supplier expression does not execute the task yet, but instead defers it until the supplier's <code>get</code> method is called.
It has the syntax <code>$ModuleList$FUNCID.supplier$TypeArgs($Exps)</code>, for example <code>lang:java:parse.supplier(file)</code>.
The second element is the <a href="../functions#name">function name</a>.
This function name can either be qualified or left unqualified by the module list.
If it is unqualified, the function name must be defined in the current module or be imported with a <a href="../modules#function-imports">function import</a>.
If it is qualified, <a href="../modules#qualified-calls">the function is looked up in that module</a>.
The number of type arguments must match the number of <a href="../functions#type-parameters">type parameters on the function declaration</a>, and the type arguments must be within bounds for the type parameters.
The expressions are the arguments to the function.
They must match the number of parameters that the function declared and they must be subtypes of the parameters.</p>
<p>The type of a task supplier expression is <code>supplier&lt;T&gt;</code>, where <code>T</code> is the type of the declared function with the type parameters replaced with their corresponding type arguments.</p>
<h2 id="requires">requires<a class="headerlink" href="#requires" title="Permanent link">&para;</a></h2>
<p>A requires expression expresses that the current task depends on the given <a href="../types#path">path</a>.
It has the syntax <code>requires $Exp $FilterPart? $StamperPart?</code>, for example <code>requires ./metaborg.yaml by hash</code> or <code>requires sampleDir with extension "sdf3"</code>.
The expression is the path to depend on.
The filter part is optional and adds a filter to filter out any paths that do not match the filter.
It is described in <a href="#filter-and-filterpart">the section on common lexical elements</a>.
The stamper part is also optional and provides a way to determine if a file or path is up-to-date.
It is also described in <a href="#stamper-stamperpart-and-stamperkind">the section on common lexical elements</a>.</p>
<p>The type and value of the expression is <a href="../types#unit">unit</a>.</p>
<div class="admonition todo">
<p class="admonition-title">Exceptions?</p>
<p>What happens if there is another task that provides the path? Does it quietly schedule that task before this one, does it throw an error? What if that other task runs after this task?</p>
</div>
<h2 id="generates">generates<a class="headerlink" href="#generates" title="Permanent link">&para;</a></h2>
<p>Marks the given <a href="../types#path">path</a> as provided by the current task.
It has the syntax <code>generates $Exp $StamperPart?</code>, for example <code>generates file by hash</code>.
The expression is the path to depend on.
The stamper part is optional and provides a way to determine if a file or path is up-to-date.
It is described in <a href="#stamper-stamperpart-and-stamperkind">the section on common lexical elements</a>.</p>
<p>The type and value of this expression is <a href="../types#unit">unit</a>.</p>
<div class="admonition attention">
<p class="admonition-title">Make file modifications before using this expression</p>
<p>The contents or metadata of the file at the time that this expression is called may be cached and used for incrementality.
Make all modifications to the file before using this expression.</p>
</div>
<div class="admonition todo">
<p class="admonition-title">Exceptions?</p>
<p>Can this mark a directory as provided or only a file?
What happens when two tasks generate a file?
What happens when this task declares it generates a file after another task has already used it?
Can a task both require and provide a file?
What happens if this task calls a task that provides a file and then this task also declares it generated that file?</p>
</div>
<h2 id="list">list<a class="headerlink" href="#list" title="Permanent link">&para;</a></h2>
<div class="admonition info inline end">
<p class="admonition-title">Defining list literals</p>
<p>This section is about listing children of a directory with the <code>list</code> keyword.
To define a literal list value, see <a href="#list-literal">list literal</a>.</p>
</div>
<p>Lists direct children of the given directory.
List expressions have the syntax <code>list $Exp $FilterPart?</code>, for example <code>list getProjectRootDir() + ./examples with extension "pie"</code>.
The expression must have type <a href="../types#path">path</a> and refer to an existing directory.
The filter part is optional and adds a filter to filter out any paths that do not match the filter.
It is described in <a href="#filter-and-filterpart">the section on common lexical elements</a>.</p>
<p>A list expression returns a <a href="../types#lists">list</a> of the direct children of the given directory, and its type is <code>path*</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Declaring a dependency on the directory</p>
<p>You will likely need to declare a dependency on the directory using <a href="#requires">requires</a>.
You may also need to declare dependencies on the individual files if you do not call a task which already does that.</p>
</div>
<details class="note">
<summary>Recursive listing</summary>
<p>List only gets the direct children of the given directory.
To recursively get all files and directories in a given directory, use <a href="#walk">walk</a>.</p>
</details>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>What happens if the starting directory does not exist?
What happens if it is not a directory?</p>
</div>
<h2 id="walk">walk<a class="headerlink" href="#walk" title="Permanent link">&para;</a></h2>
<p>Recursively gets descendants of the given directory.
Walk expressions have the syntax <code>walk $Exp $FilterPart?</code>, for example <code>walk getProjectRootDir() + ./src/test/java with extension "java"</code>.
The expression must have type <a href="../types#path">path</a> and refer to an existing directory.
The filter part is optional and adds a filter to filter out any files that do not match the filter.
It is described in <a href="#filter-and-filterpart">the section on common lexical elements</a>.</p>
<p>A walk expression returns a <a href="../types#list">list</a> of all the files in the given directory and its descendants, and its type is <code>path*</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Declaring a dependency on the directory</p>
<p>You will likely need to declare a dependency on the directory and all subdirectories using <a href="#requires">requires</a>.
You may also need to declare dependencies on the individual files if you do not call a task which already does that.</p>
</div>
<details class="note">
<summary>Getting only the direct descendants</summary>
<p>Walk recursively gets all files in the given directory.
To only get direct and directories in a given directory, use <a href="#list">list</a>.</p>
</details>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>What happens if the starting directory does not exist?
What happens if it is not a directory?
Does the filter also filter directories or only files?
Should recursive directories automatically be declared <a href="#require">required</a>?</p>
</div>
<h2 id="exists">exists<a class="headerlink" href="#exists" title="Permanent link">&para;</a></h2>
<p>Checks if a file or folder exists.
The syntax is <code>exists $Exp</code>, for example <code>exists ./config.json</code>.
The expression is the <a href="../types#path">path</a> for which it should be checked if it exists.
It returns a <a href="../types#bool">boolean</a> indicating whether the file or path exists.</p>
<h2 id="read">read<a class="headerlink" href="#read" title="Permanent link">&para;</a></h2>
<p>Reads the contents of the given file into a <a href="../types#string">string</a>.
The syntax is <code>read $Exp</code>, for example <code>read pie.sdf3</code>.
The expression is the file to be read, with type <a href="../types#path">path</a>.
The file is read with the system default file encoding.
It returns a string with the contents of the file.</p>
<h2 id="return">Return<a class="headerlink" href="#return" title="Permanent link">&para;</a></h2>
<p>Returns from the current function with the provided value.
Its syntax is <code>return $Exp</code>, for example <code>return true</code> or <code>return errResult&lt;FileNotFoundException&gt;(createFileNotFoundException("could not find $file"))</code>.
The expression is evaluated and its value returned.
The type of the expression should be a subtype of the declared <a href="../functions#return-type">return type of the current function</a>.</p>
<p>The type of a return expression is <a href="../types#unit">unit</a>.</p>
<details class="attention">
<summary>Type may get changed to bottom type</summary>
<p>The type of a return expression may be changed to <a href="../types#bottom">the bottom type</a> in the future.
This would allow using a return expression as a branch in an if-else expression.</p>
</details>
<h2 id="fail">fail<a class="headerlink" href="#fail" title="Permanent link">&para;</a></h2>
<p>Throws an <code>ExecException</code> with the provided <code>string</code> as message.
This exits the function, any code after this expression is not evaluated.
Its syntax is <code>fail $Exp</code>, for example <code>fail "Could not open $file, it does not exist"</code>
The expression is the message for the exception and must be of type <a href="../types#string">string</a>.</p>
<p>The type of a fail expression is <a href="../types#unit">unit</a>.</p>
<details class="attention">
<summary>Type may get changed to bottom type</summary>
<p>The type of a fail expression may be changed to <a href="../types#bottom">the bottom type</a> in the future.
This would allow using a fail expression as a branch in an if-else expression.</p>
</details>
<details class="tip">
<summary>consider using <code>Result&lt;T, E&gt;</code></summary>
<p>Fail throws an exception, which cannot be handled in the PIE DSL.
We recommend using <code>Result&lt;T, E&gt;</code> from the PIE standard library instead.</p>
</details>
<h2 id="unit-literal">Unit literal<a class="headerlink" href="#unit-literal" title="Permanent link">&para;</a></h2>
<p><code>unit</code> is a literal expression of the only value of the <a href="../types#unit">unit type</a>.</p>
<h2 id="true">True<a class="headerlink" href="#true" title="Permanent link">&para;</a></h2>
<p><code>true</code> is the literal expression for one of the two values of the <a href="../types#boolean">boolean type</a>.</p>
<h2 id="false">False<a class="headerlink" href="#false" title="Permanent link">&para;</a></h2>
<p><code>false</code> is the literal expression for one of the two values of the <a href="../types#boolean">boolean type</a>.</p>
<h2 id="int-literal">int literal<a class="headerlink" href="#int-literal" title="Permanent link">&para;</a></h2>
<p>Int literals are a literal value of the <a href="../types#int">int type</a>.
Their syntax is <code>"-"? [0-9]+</code>, for example <code>0</code>, <code>1</code>, <code>2</code>, <code>-1</code>, <code>47</code> and <code>-30774</code>.
That is an optional dash (unary minus, <code>-</code>), followed by some digits.
This syntax is lexical, meaning that there cannot be any layout between the sign or digits.</p>
<details class="attention" open="open">
<summary>valid int values</summary>
<p>Int literals represent literal values of the int type.
As such, they must be valid values of the int type, i.e. in the range <span class="arithmatex">\(-2^{31}\)</span> to <span class="arithmatex">\(2^{31}-1\)</span>, inclusive.
This is currently not enforced, and breaking this constraint will lead to Java compile errors after compiling the PIE code.</p>
<p><code>-0</code> is allowed and equal to <code>0</code>.</p>
</details>
<details class="example">
<summary>Examples</summary>
<div class="highlight"><pre><span></span><code>// Valid integer literals:
0
1
234
2349273
-4
-237894
-0 // same as 0
0010 // same as 10

// invalid integer literals
- 12 // not allowed to have a space between the minus and the digits. Unary minus is not supported.
1 024 // spaces between digits are not allowed
2,048 // commas between digits are not allowed
324.346 // periods between digits are not allowed. Floats do not exist in PIE, separators are not supported.
DEADBEEF // letters are not allowed
0b0101011110010 // binary notation is not supported
0x234e9617ab7 // hexadecimal notation is not supported
abd547 // this is not a hexadecimal value  but a value reference
ten // this is not an int literal but a value reference
</code></pre></div>
</details>
<h2 id="null">null<a class="headerlink" href="#null" title="Permanent link">&para;</a></h2>
<p><code>null</code> is the value that is added by making a type <a href="../types#nullable-types">nullable</a>.
It is also a value of the <a href="../types#top">top type</a>.</p>
<h2 id="tuple-literal">Tuple literal<a class="headerlink" href="#tuple-literal" title="Permanent link">&para;</a></h2>
<p>Tuple literals express literal values of the <a href="../types#tuples">tuple type</a>.
Their syntax is <code>($Exps)</code>, for example <code>("scala", "VF_SCALA", walk (subjectScalaSrcDir + ./lib/scala.jar))</code>.
The expressions are the elements of the tuple.
There must be at least two elements.
The type of a tuple literal is the tuple type of the types of the elements, so the literal <code>(1?, "a string", true)</code> has type <code>(int?, string, bool)</code>.</p>
<details class="note">
<summary>Tuples with less than two elements</summary>
<p>It is not possible to express tuples with zero or a single element.
Zero element tuples cannot be expressed by design.
Their common use case as a <a href="../types#unit">unit type</a> is covered by the <a href="#unit-literal">unit literal</a> instead.
Single element tuples will be parsed as a <a href="#expressions">bracketed expression</a> instead.</p>
</details>
<details class="tip">
<summary>Tuple literals from subtype elements</summary>
<p>Tuple types cannot be assigned to each other in most cases, so the following is not possible:
<div class="highlight"><pre><span></span><code>data Fruit = $DataImpl
data Apple : Fruit = $DataImpl
data Pear : Fruit = $DataImpl

func getApple() -&gt; Apple = $FuncImpl
func getPear() -&gt; Pear = $FuncImpl

// type (Apple, Pear) cannot be assigned to (Fruit, Fruit)
func example() -&gt; (Fruit, Fruit) = (getApple(), getPear())
</code></pre></div></p>
<p>To create such a tuple, assign the elements explicitly to the correct types first:
<div class="highlight"><pre><span></span><code>func example() -&gt; (Fruit, Fruit) = {
    val apple: Fruit = getApple();
    val pear: Fruit = getPear();
    (apple, pear)
}
</code></pre></div></p>
</details>
<h2 id="list-literal">List literal<a class="headerlink" href="#list-literal" title="Permanent link">&para;</a></h2>
<div class="admonition info inline end">
<p class="admonition-title">List keyword</p>
<p>This section is about defining list literals.
For information on the <code>list</code> keyword, see <a href="#list">list expressions</a>, which list the children of a directory.</p>
</div>
<p>Define a literal <a href="../types#lists">list</a> value.
The syntax is <code>[$Exps]</code>, for example <code>[1, 2, 3]</code>, or <code>[apple, banana, pear]</code>.
The expressions are the elements of the list.
The least upper bound of the types of the expressions is the list element type <code>T</code>.
The type of the list literal is a list of <code>T</code>, i.e. <code>T*</code>.
The list element type must not be the top type.</p>
<details class="attention">
<summary>Empty list literals may lead to Java errors</summary>
<p>The empty list literal <code>[]</code> has a special type for implementation reasons.
It compiles to a list with the <a href="../types#bottom">bottom type</a>.
As such, the generated Java code may have compile errors.</p>
</details>
<h2 id="string-literal">String literal<a class="headerlink" href="#string-literal" title="Permanent link">&para;</a></h2>
<p>Define a literal value of type <a href="../types#string">string</a>.
The syntax is <code>"$StrParts"</code>, where <code>$StrParts</code> are parts of the string.
String parts are lexical, which means that there cannot be any layout between them (layout between string parts will be part of the string).
The possible string parts are:</p>
<ul>
<li>A sequence of characters excluding <code>$</code>, <code>"</code>, <code>\</code> and newlines, for example <code>A sequence of characters = 123!?</code>.
This expresses that exact sequence of characters.</li>
<li><code>$</code> followed by the name of a value or parameter, for example <code>$dir</code>.
This converts the value to a string.
It is an error to use an undefined name.</li>
<li><code>${$Exp}</code>, for example <code>${1 + 2}</code>.
This evaluates the expression and converts the resulting value into a string.</li>
<li><code>\$</code>.
This represents the literal character <code>$</code>.</li>
<li><code>\</code> followed by another character.
This represents a character according to <a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.6">Java semantics</a>.
For example, <code>\n</code> is a newline character, <code>\\</code> is a single backslash, and <code>\r</code> is a carriage return character.
In particular, <code>\"</code> represents the literal character <code>"</code>, and does not end the string literal.</li>
</ul>
<p>All of the string parts are concatenated into a single string value without separating characters between them.</p>
<h2 id="path-literal">path literal<a class="headerlink" href="#path-literal" title="Permanent link">&para;</a></h2>
<p>Define a literal value of type <a href="../types#path">path</a>.
The syntax is <code>$PathStart$PathParts</code>, for example <code>/home/alice/very-important-documents</code> or <code>./src/test/resources/</code>.
<code>$PathStart</code> is either <code>/</code> for absolute paths or <code>./</code> for relative paths.<code>$PathParts</code> are parts of the path.
Path start and path parts are lexical, which means that there cannot be any layout between them (layout between path parts will result in parse errors).
The possible path parts are:</p>
<ul>
<li>A sequence of characters excluding <code>$</code>, <code>"</code>, <code>\</code> and layout, for example <code>path/to/the/goods</code>.
This expresses that exact sequence of characters.</li>
<li><code>$</code> followed by the name of a value or parameter, for example <code>$rootDir</code>.
The value must be of type path.
It is an error to use an undefined name.</li>
<li><code>${$Exp}</code>, for example <code>${getProjectDir()}</code>.
This evaluates the expression.
The resulting value must be of type path.</li>
<li><code>\$</code>.
This represents the literal character <code>$</code>.</li>
<li><code>\</code> followed by another character.
This represents a character according to <a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.6">Java semantics</a>.
For example, <code>\\</code> is a single backslash.</li>
</ul>
<p>The path start and all of the path parts are concatenated into a single path value without separating characters between them.</p>
<details class="note">
<summary>Path validity and existence (is not checked)</summary>
<p>The validity or existence of path literals is not checked.
This means that a path literal like <code>.////.</code> is allowed, even though it would be invalid for most file systems.
To check if a path exists, use <a href="#exists">exists</a>.</p>
</details>
<h2 id="common-lexical-elements">Common lexical elements<a class="headerlink" href="#common-lexical-elements" title="Permanent link">&para;</a></h2>
<p>This section describes common lexical elements that are used by multiple expressions.</p>
<h3 id="filter-and-filterpart">Filter and FilterPart<a class="headerlink" href="#filter-and-filterpart" title="Permanent link">&para;</a></h3>
<p>Filters are used expressions that read directories from the filesystem, so <a href="#requires">requires</a>, <a href="#list">list</a> and <a href="#walk">walk</a>.
They are used to keep certain paths and ignore all other paths based on the name and the extension.
They have the syntax <code>with $Filter</code>, for example <code>with extension "str"</code> or <code>with patterns ["test-res", "result", "generated"]</code>
The possible filters are listed in the table below.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>expression</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Regex</td>
<td><code>regex $Exp</code></td>
<td>Keeps files if they match the provided regular expression. The expression must be a <a href="../types#string">string</a> representing a regular expression. Todo: Figure out what exactly it matches on (full path, name, includes extension?), regex flavor (Java, some other kind?)</td>
</tr>
<tr>
<td>Pattern</td>
<td><code>pattern $Exp</code></td>
<td>Keeps files if the name contains the provided string. The expression must be a <a href="../types#string">string</a>. TODO: I assume that this only needs to match part of the name and does not include the extension</td>
</tr>
<tr>
<td>Patterns</td>
<td><code>patterns $Exp</code></td>
<td>Keeps files if the name contains any of the provided strings. The expression must be a <a href="../types#list">list</a> of <a href="../types#string">strings</a>. TODO: I assume that this only needs to match part of the name and does not include the extension</td>
</tr>
<tr>
<td>Extension</td>
<td><code>extension $Exp</code></td>
<td>Keeps files if the file extension matches the provided string. The extension must match the string exactly, so <code>pie</code> is different from <code>PIE</code> and <code>PIE-simple</code>. The string should not include the period (<code>.</code>) separating the filename and the file extension. The expression must be a <a href="../types#string">string</a>. TODO: I assume that it needs to be an exact match. Can it match <code>pp.pie</code>?</td>
</tr>
<tr>
<td>Extensions</td>
<td><code>extensions $Exp</code></td>
<td>Keeps files if the file extension matches any of the provided strings. The extension must match one of the strings exactly, so <code>pie</code> is different from <code>PIE</code> and <code>PIE-simple</code>. The strings should not include the period (<code>.</code>) separating the filename and the file extension. The expression must be a <a href="../types#list">list</a> of <a href="../types#string">strings</a>. TODO: I assume that it needs to be an exact match. Can it match <code>pp.pie</code>?</td>
</tr>
</tbody>
</table>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>Find exact semantics for the filters.
Can they handle directories or do they only work on files?
See also todos in the table.</p>
</div>
<details class="note">
<summary>Multiple filters</summary>
<p>It is not allowed to use multiple filters.
If you need multiple filters, encode your requirements in a regex filter instead.</p>
</details>
<h3 id="stamper-stamperpart-and-stamperkind">Stamper, StamperPart and StamperKind<a class="headerlink" href="#stamper-stamperpart-and-stamperkind" title="Permanent link">&para;</a></h3>
<p>A Stamper specifies how it is determined whether a path is up-to-date when executing incrementally.
They are used by <a href="#requires">requires</a> and <a href="#generates">generates</a>.
They use the syntax <code>by $StamperKind</code>, where the stamper kind can be <code>hash</code> or <code>modified</code>.</p>
<p>Stamping <code>by hash</code> will calculate the md5 hash of a file and assume that the file is up to date if the hash matches the cached hash.
Stamping <code>by modified</code> will check the modification time, and assumes it is up-to-date when that time is at or before the cached time.</p>
<details class="note">
<summary>Checking the full file contents</summary>
<p>There is currently no way in the PIE DSL to specify that the full file contents should match for a file to be considered up-to-date.
If you need this, write the task in Java or use <a href="#read"><code>read file</code></a>.</p>
</details>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>Does it work for directories or only files?
Does the hash calculate md5 hash or another hash?
What happens when a file is generated <code>by modified</code> but required <code>by hash</code>?
What is the default modifier?</p>
</div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-05-27
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../functions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Functions" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Functions
            </div>
          </div>
        </a>
      
      
        
        <a href="../limitations/" class="md-footer__link md-footer__link--next" aria-label="Next: Known bugs and limitations" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Known bugs and limitations
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2010-2021 Spoofax Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a6c66575.min.js"></script>
      
        <script src="../../../assets/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>